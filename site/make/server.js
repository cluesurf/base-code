"use strict";var Rs=Object.create;var Ei=Object.defineProperty;var bs=Object.getOwnPropertyDescriptor;var ws=Object.getOwnPropertyNames;var Ps=Object.getPrototypeOf,qs=Object.prototype.hasOwnProperty;var D=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Cs=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of ws(e))!qs.call(t,s)&&s!==n&&Ei(t,s,{get:()=>e[s],enumerable:!(r=bs(e,s))||r.enumerable});return t};var Qt=(t,e,n)=>(n=t!=null?Rs(Ps(t)):{},Cs(e||!t||!t.__esModule?Ei(n,"default",{value:t,enumerable:!0}):n,t));var Xt=D(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.thenable=V.typedArray=V.stringArray=V.array=V.func=V.error=V.number=V.string=V.boolean=void 0;function Ts(t){return t===!0||t===!1}V.boolean=Ts;function Ni(t){return typeof t=="string"||t instanceof String}V.string=Ni;function Ds(t){return typeof t=="number"||t instanceof Number}V.number=Ds;function ks(t){return t instanceof Error}V.error=ks;function Oi(t){return typeof t=="function"}V.func=Oi;function Fi(t){return Array.isArray(t)}V.array=Fi;function Ss(t){return Fi(t)&&t.every(e=>Ni(e))}V.stringArray=Ss;function Es(t,e){return Array.isArray(t)&&t.every(e)}V.typedArray=Es;function Ns(t){return t&&Oi(t.then)}V.thenable=Ns});var Ne=D(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});var Kn;function Zn(){if(Kn===void 0)throw new Error("No runtime abstraction layer installed");return Kn}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");Kn=n}t.install=e})(Zn||(Zn={}));Vn.default=Zn});var er=D(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.Disposable=void 0;var Os;(function(t){function e(n){return{dispose:n}}t.create=e})(Os=qt.Disposable||(qt.Disposable={}))});var ji=D(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.AbstractMessageBuffer=void 0;var Fs=13,js=10,Ms=`\r
`,tr=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let e=0,n=0,r=0,s=0;e:for(;n<this._chunks.length;){let R=this._chunks[n];r=0;t:for(;r<R.length;){switch(R[r]){case Fs:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case js:switch(e){case 1:e=2;break;case 3:e=4,r++;break e;default:e=0}break;default:e=0}r++}s+=R.byteLength,n++}if(e!==4)return;let y=this._read(s+r),P=new Map,E=this.toString(y,"ascii").split(Ms);if(E.length<2)return P;for(let R=0;R<E.length-2;R++){let q=E[R],b=q.indexOf(":");if(b===-1)throw new Error("Message header must separate key and value using :");let N=q.substr(0,b),S=q.substr(b+1).trim();P.set(N,S)}return P}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let y=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(y)}if(this._chunks[0].byteLength>e){let y=this._chunks[0],P=this.asNative(y,e);return this._chunks[0]=y.slice(e),this._totalLength-=e,P}let n=this.allocNative(e),r=0,s=0;for(;e>0;){let y=this._chunks[s];if(y.byteLength>e){let P=y.slice(0,e);n.set(P,r),r+=e,this._chunks[s]=y.slice(e),this._totalLength-=e,e-=e}else n.set(y,r),r+=y.byteLength,this._chunks.shift(),this._totalLength-=y.byteLength,e-=y.byteLength}return n}};Yt.AbstractMessageBuffer=tr});var Wi=D(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});var xs=Ne(),Mi=require("util"),Ke=er(),Ws=ji(),ct=class extends Ws.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return ct.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new Mi.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};ct.emptyBuffer=Buffer.allocUnsafe(0);var nr=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Ke.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Ke.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Ke.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),Ke.Disposable.create(()=>this.stream.off("data",e))}},rr=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),Ke.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Ke.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Ke.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((r,s)=>{let y=P=>{P==null?r():s(P)};typeof e=="string"?this.stream.write(e,n,y):this.stream.write(e,y)})}end(){this.stream.end()}},xi=Object.freeze({messageBuffer:Object.freeze({create:t=>new ct(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new Mi.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new nr(t),asWritableStream:t=>new rr(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){return setTimeout(t,e,...n)},clearTimeout(t){clearTimeout(t)},setImmediate(t,...e){return setImmediate(t,...e)},clearImmediate(t){clearImmediate(t)}})});function ir(){return xi}(function(t){function e(){xs.default.install(xi)}t.install=e})(ir||(ir={}));or.default=ir});var ut=D(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.stringArray=ae.array=ae.func=ae.error=ae.number=ae.string=ae.boolean=void 0;function Ls(t){return t===!0||t===!1}ae.boolean=Ls;function Li(t){return typeof t=="string"||t instanceof String}ae.string=Li;function Is(t){return typeof t=="number"||t instanceof Number}ae.number=Is;function As(t){return t instanceof Error}ae.error=As;function Hs(t){return typeof t=="function"}ae.func=Hs;function Ii(t){return Array.isArray(t)}ae.array=Ii;function zs(t){return Ii(t)&&t.every(e=>Li(e))}ae.stringArray=zs});var kr=D(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});T.isResponseMessage=T.isNotificationMessage=T.isRequestMessage=T.NotificationType9=T.NotificationType8=T.NotificationType7=T.NotificationType6=T.NotificationType5=T.NotificationType4=T.NotificationType3=T.NotificationType2=T.NotificationType1=T.NotificationType0=T.NotificationType=T.RequestType9=T.RequestType8=T.RequestType7=T.RequestType6=T.RequestType5=T.RequestType4=T.RequestType3=T.RequestType2=T.RequestType1=T.RequestType=T.RequestType0=T.AbstractMessageSignature=T.ParameterStructures=T.ResponseError=T.ErrorCodes=void 0;var Ze=ut(),Ai;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=t.jsonrpcReservedErrorRangeStart,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=t.jsonrpcReservedErrorRangeEnd})(Ai=T.ErrorCodes||(T.ErrorCodes={}));var Ct=class extends Error{constructor(e,n,r){super(n),this.code=Ze.number(e)?e:Ai.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,Ct.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};T.ResponseError=Ct;var ie=class{constructor(e){this.kind=e}static is(e){return e===ie.auto||e===ie.byName||e===ie.byPosition}toString(){return this.kind}};T.ParameterStructures=ie;ie.auto=new ie("auto");ie.byPosition=new ie("byPosition");ie.byName=new ie("byName");var X=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return ie.auto}};T.AbstractMessageSignature=X;var sr=class extends X{constructor(e){super(e,0)}};T.RequestType0=sr;var ar=class extends X{constructor(e,n=ie.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};T.RequestType=ar;var cr=class extends X{constructor(e,n=ie.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};T.RequestType1=cr;var ur=class extends X{constructor(e){super(e,2)}};T.RequestType2=ur;var lr=class extends X{constructor(e){super(e,3)}};T.RequestType3=lr;var dr=class extends X{constructor(e){super(e,4)}};T.RequestType4=dr;var fr=class extends X{constructor(e){super(e,5)}};T.RequestType5=fr;var hr=class extends X{constructor(e){super(e,6)}};T.RequestType6=hr;var gr=class extends X{constructor(e){super(e,7)}};T.RequestType7=gr;var mr=class extends X{constructor(e){super(e,8)}};T.RequestType8=mr;var pr=class extends X{constructor(e){super(e,9)}};T.RequestType9=pr;var yr=class extends X{constructor(e,n=ie.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};T.NotificationType=yr;var vr=class extends X{constructor(e){super(e,0)}};T.NotificationType0=vr;var _r=class extends X{constructor(e,n=ie.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};T.NotificationType1=_r;var Rr=class extends X{constructor(e){super(e,2)}};T.NotificationType2=Rr;var br=class extends X{constructor(e){super(e,3)}};T.NotificationType3=br;var wr=class extends X{constructor(e){super(e,4)}};T.NotificationType4=wr;var Pr=class extends X{constructor(e){super(e,5)}};T.NotificationType5=Pr;var qr=class extends X{constructor(e){super(e,6)}};T.NotificationType6=qr;var Cr=class extends X{constructor(e){super(e,7)}};T.NotificationType7=Cr;var Tr=class extends X{constructor(e){super(e,8)}};T.NotificationType8=Tr;var Dr=class extends X{constructor(e){super(e,9)}};T.NotificationType9=Dr;function $s(t){let e=t;return e&&Ze.string(e.method)&&(Ze.string(e.id)||Ze.number(e.id))}T.isRequestMessage=$s;function Bs(t){let e=t;return e&&Ze.string(e.method)&&t.id===void 0}T.isNotificationMessage=Bs;function Js(t){let e=t;return e&&(e.result!==void 0||!!e.error)&&(Ze.string(e.id)||Ze.number(e.id)||e.id===null)}T.isResponseMessage=Js});var dt=D(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.Emitter=Ve.Event=void 0;var Gs=Ne(),Us;(function(t){let e={dispose(){}};t.None=function(){return e}})(Us=Ve.Event||(Ve.Event={}));var Sr=class{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let s=0,y=this._callbacks.length;s<y;s++)if(this._callbacks[s]===e)if(this._contexts[s]===n){this._callbacks.splice(s,1),this._contexts.splice(s,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),s=this._contexts.slice(0);for(let y=0,P=r.length;y<P;y++)try{n.push(r[y].apply(s[y],e))}catch(E){Gs.default().console.error(E)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},lt=class{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new Sr),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let s={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,n),s.dispose=lt._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(s),s}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Ve.Emitter=lt;lt._noop=function(){}});var Fr=D(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.CancellationTokenSource=et.CancellationToken=void 0;var Hi=Ne(),Qs=ut(),Er=dt(),Nr;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Er.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Er.Event.None});function e(n){let r=n;return r&&(r===t.None||r===t.Cancelled||Qs.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(Nr=et.CancellationToken||(et.CancellationToken={}));var Xs=Object.freeze(function(t,e){let n=Hi.default().timer.setTimeout(t.bind(e),0);return{dispose(){Hi.default().timer.clearTimeout(n)}}}),Kt=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Xs:(this._emitter||(this._emitter=new Er.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},Or=class{get token(){return this._token||(this._token=new Kt),this._token}cancel(){this._token?this._token.cancel():this._token=Nr.Cancelled}dispose(){this._token?this._token instanceof Kt&&this._token.dispose():this._token=Nr.None}};et.CancellationTokenSource=Or});var zi=D(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.ReadableStreamMessageReader=Oe.AbstractMessageReader=Oe.MessageReader=void 0;var Zt=Ne(),ft=ut(),jr=dt(),Ys;(function(t){function e(n){let r=n;return r&&ft.func(r.listen)&&ft.func(r.dispose)&&ft.func(r.onError)&&ft.func(r.onClose)&&ft.func(r.onPartialMessage)}t.is=e})(Ys=Oe.MessageReader||(Oe.MessageReader={}));var Vt=class{constructor(){this.errorEmitter=new jr.Emitter,this.closeEmitter=new jr.Emitter,this.partialMessageEmitter=new jr.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${ft.string(e.message)?e.message:"unknown"}`)}};Oe.AbstractMessageReader=Vt;var Mr;(function(t){function e(n){var r;let s,y,P,E=new Map,R,q=new Map;if(n===void 0||typeof n=="string")s=n??"utf-8";else{if(s=(r=n.charset)!==null&&r!==void 0?r:"utf-8",n.contentDecoder!==void 0&&(P=n.contentDecoder,E.set(P.name,P)),n.contentDecoders!==void 0)for(let b of n.contentDecoders)E.set(b.name,b);if(n.contentTypeDecoder!==void 0&&(R=n.contentTypeDecoder,q.set(R.name,R)),n.contentTypeDecoders!==void 0)for(let b of n.contentTypeDecoders)q.set(b.name,b)}return R===void 0&&(R=Zt.default().applicationJson.decoder,q.set(R.name,R)),{charset:s,contentDecoder:P,contentDecoders:E,contentTypeDecoder:R,contentTypeDecoders:q}}t.fromOptions=e})(Mr||(Mr={}));var xr=class extends Vt{constructor(e,n){super(),this.readable=e,this.options=Mr.fromOptions(n),this.buffer=Zt.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let s=this.buffer.tryReadHeaders();if(!s)return;let y=s.get("Content-Length");if(!y)throw new Error("Header must provide a Content-Length property.");let P=parseInt(y);if(isNaN(P))throw new Error("Content-Length value must be a number.");this.nextMessageLength=P}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let r;this.options.contentDecoder!==void 0?r=this.options.contentDecoder.decode(n):r=Promise.resolve(n),r.then(s=>{this.options.contentTypeDecoder.decode(s,this.options).then(y=>{this.callback(y)},y=>{this.fireError(y)})},s=>{this.fireError(s)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(Zt.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=Zt.default().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Oe.ReadableStreamMessageReader=xr});var $i=D(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.Semaphore=void 0;var Ks=Ne(),Wr=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||Ks.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};en.Semaphore=Wr});var Ui=D(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.WriteableStreamMessageWriter=Fe.AbstractMessageWriter=Fe.MessageWriter=void 0;var Bi=Ne(),Tt=ut(),Zs=$i(),Ji=dt(),Vs="Content-Length: ",Gi=`\r
`,ea;(function(t){function e(n){let r=n;return r&&Tt.func(r.dispose)&&Tt.func(r.onClose)&&Tt.func(r.onError)&&Tt.func(r.write)}t.is=e})(ea=Fe.MessageWriter||(Fe.MessageWriter={}));var tn=class{constructor(){this.errorEmitter=new Ji.Emitter,this.closeEmitter=new Ji.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${Tt.string(e.message)?e.message:"unknown"}`)}};Fe.AbstractMessageWriter=tn;var Lr;(function(t){function e(n){var r,s;return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:Bi.default().applicationJson.encoder}:{charset:(r=n.charset)!==null&&r!==void 0?r:"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:(s=n.contentTypeEncoder)!==null&&s!==void 0?s:Bi.default().applicationJson.encoder}}t.fromOptions=e})(Lr||(Lr={}));var Ir=class extends tn{constructor(e,n){super(),this.writable=e,this.options=Lr.fromOptions(n),this.errorCount=0,this.writeSemaphore=new Zs.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let s=[];return s.push(Vs,r.byteLength.toString(),Gi),s.push(Gi),this.doWrite(e,s,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(s){return this.handleError(s,e),Promise.reject(s)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};Fe.WriteableStreamMessageWriter=Ir});var Qi=D(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.LRUCache=je.LinkedMap=je.Touch=void 0;var ce;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(ce=je.Touch||(je.Touch={}));var nn=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,n=ce.None){let r=this._map.get(e);if(r)return n!==ce.None&&this.touch(r,n),r.value}set(e,n,r=ce.None){let s=this._map.get(e);if(s)s.value=n,r!==ce.None&&this.touch(s,r);else{switch(s={key:e,value:n,next:void 0,previous:void 0},r){case ce.None:this.addItemLast(s);break;case ce.First:this.addItemFirst(s);break;case ce.Last:this.addItemLast(s);break;default:this.addItemLast(s);break}this._map.set(e,s),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let r=this._state,s=this._head;for(;s;){if(n?e.bind(n)(s.value,s.key,this):e(s.value,s.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");s=s.next}}keys(){let e=this,n=this._state,r=this._head,s={[Symbol.iterator](){return s},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let y={value:r.key,done:!1};return r=r.next,y}else return{value:void 0,done:!0}}};return s}values(){let e=this,n=this._state,r=this._head,s={[Symbol.iterator](){return s},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let y={value:r.value,done:!1};return r=r.next,y}else return{value:void 0,done:!0}}};return s}entries(){let e=this,n=this._state,r=this._head,s={[Symbol.iterator](){return s},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let y={value:[r.key,r.value],done:!1};return r=r.next,y}else return{value:void 0,done:!0}}};return s}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==ce.First&&n!==ce.Last)){if(n===ce.First){if(e===this._head)return;let r=e.next,s=e.previous;e===this._tail?(s.next=void 0,this._tail=s):(r.previous=s,s.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===ce.Last){if(e===this._tail)return;let r=e.next,s=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=s,s.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r)}};je.LinkedMap=nn;var Ar=class extends nn{constructor(e,n=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=ce.AsNew){return super.get(e,n)}peek(e){return super.get(e,ce.None)}set(e,n){return super.set(e,n,ce.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};je.LRUCache=Ar});var Vi=D(M=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});M.createMessageConnection=M.ConnectionOptions=M.CancellationStrategy=M.CancellationSenderStrategy=M.CancellationReceiverStrategy=M.ConnectionStrategy=M.ConnectionError=M.ConnectionErrors=M.LogTraceNotification=M.SetTraceNotification=M.TraceFormat=M.Trace=M.NullLogger=M.ProgressType=void 0;var Xi=Ne(),oe=ut(),j=kr(),Yi=Qi(),Dt=dt(),Hr=Fr(),kt;(function(t){t.type=new j.NotificationType("$/cancelRequest")})(kt||(kt={}));var on;(function(t){t.type=new j.NotificationType("$/progress")})(on||(on={}));var zr=class{constructor(){}};M.ProgressType=zr;var $r;(function(t){function e(n){return oe.func(n)}t.is=e})($r||($r={}));M.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var ee;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Verbose=2]="Verbose"})(ee=M.Trace||(M.Trace={}));(function(t){function e(r){if(!oe.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(ee=M.Trace||(M.Trace={}));var _e;(function(t){t.Text="text",t.JSON="json"})(_e=M.TraceFormat||(M.TraceFormat={}));(function(t){function e(n){return n=n.toLowerCase(),n==="json"?t.JSON:t.Text}t.fromString=e})(_e=M.TraceFormat||(M.TraceFormat={}));var Ki;(function(t){t.type=new j.NotificationType("$/setTrace")})(Ki=M.SetTraceNotification||(M.SetTraceNotification={}));var Br;(function(t){t.type=new j.NotificationType("$/logTrace")})(Br=M.LogTraceNotification||(M.LogTraceNotification={}));var rn;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(rn=M.ConnectionErrors||(M.ConnectionErrors={}));var Le=class extends Error{constructor(e,n){super(n),this.code=e,Object.setPrototypeOf(this,Le.prototype)}};M.ConnectionError=Le;var Zi;(function(t){function e(n){let r=n;return r&&oe.func(r.cancelUndispatched)}t.is=e})(Zi=M.ConnectionStrategy||(M.ConnectionStrategy={}));var Jr;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new Hr.CancellationTokenSource}});function e(n){let r=n;return r&&oe.func(r.createCancellationTokenSource)}t.is=e})(Jr=M.CancellationReceiverStrategy||(M.CancellationReceiverStrategy={}));var Gr;(function(t){t.Message=Object.freeze({sendCancellation(n,r){n.sendNotification(kt.type,{id:r})},cleanup(n){}});function e(n){let r=n;return r&&oe.func(r.sendCancellation)&&oe.func(r.cleanup)}t.is=e})(Gr=M.CancellationSenderStrategy||(M.CancellationSenderStrategy={}));var Ur;(function(t){t.Message=Object.freeze({receiver:Jr.Message,sender:Gr.Message});function e(n){let r=n;return r&&Jr.is(r.receiver)&&Gr.is(r.sender)}t.is=e})(Ur=M.CancellationStrategy||(M.CancellationStrategy={}));var ta;(function(t){function e(n){let r=n;return r&&(Ur.is(r.cancellationStrategy)||Zi.is(r.connectionStrategy))}t.is=e})(ta=M.ConnectionOptions||(M.ConnectionOptions={}));var Re;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(Re||(Re={}));function na(t,e,n,r){let s=n!==void 0?n:M.NullLogger,y=0,P=0,E=0,R="2.0",q,b=Object.create(null),N,S=Object.create(null),A=new Map,B,U=new Yi.LinkedMap,G=Object.create(null),p=Object.create(null),g=ee.Off,_=_e.Text,F,O=Re.New,Z=new Dt.Emitter,me=new Dt.Emitter,Ce=new Dt.Emitter,Je=new Dt.Emitter,Ge=new Dt.Emitter,Ue=r&&r.cancellationStrategy?r.cancellationStrategy:Ur.Message;function Qe(d){if(d===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+d.toString()}function Ht(d){return d===null?"res-unknown-"+(++E).toString():"res-"+d.toString()}function jn(){return"not-"+(++P).toString()}function Mn(d,u){j.isRequestMessage(u)?d.set(Qe(u.id),u):j.isResponseMessage(u)?d.set(Ht(u.id),u):d.set(jn(),u)}function xn(d){}function ot(){return O===Re.Listening}function zt(){return O===Re.Closed}function Te(){return O===Re.Disposed}function bt(){(O===Re.New||O===Re.Listening)&&(O=Re.Closed,me.fire(void 0))}function Wn(d){Z.fire([d,void 0,void 0])}function Ln(d){Z.fire(d)}t.onClose(bt),t.onError(Wn),e.onClose(bt),e.onError(Ln);function $t(){B||U.size===0||(B=Xi.default().timer.setImmediate(()=>{B=void 0,In()}))}function In(){if(U.size===0)return;let d=U.shift();try{j.isRequestMessage(d)?Hn(d):j.isNotificationMessage(d)?wt(d):j.isResponseMessage(d)?zn(d):$n(d)}finally{$t()}}let An=d=>{try{if(j.isNotificationMessage(d)&&d.method===kt.type.method){let u=Qe(d.params.id),o=U.get(u);if(j.isRequestMessage(o)){let l=r?.connectionStrategy,f=l&&l.cancelUndispatched?l.cancelUndispatched(o,xn):void 0;if(f&&(f.error!==void 0||f.result!==void 0)){U.delete(u),f.id=o.id,st(f,d.method,Date.now()),e.write(f);return}}}Mn(U,d)}finally{$t()}};function Hn(d){if(Te())return;function u(m,C,k){let L={jsonrpc:R,id:d.id};m instanceof j.ResponseError?L.error=m.toJson():L.result=m===void 0?null:m,st(L,C,k),e.write(L)}function o(m,C,k){let L={jsonrpc:R,id:d.id,error:m.toJson()};st(L,C,k),e.write(L)}function l(m,C,k){m===void 0&&(m=null);let L={jsonrpc:R,id:d.id,result:m};st(L,C,k),e.write(L)}Gn(d);let f=b[d.method],a,i;f&&(a=f.type,i=f.handler);let h=Date.now();if(i||q){let m=String(d.id),C=Ue.receiver.createCancellationTokenSource(m);p[m]=C;try{let k;if(i)if(d.params===void 0){if(a!==void 0&&a.numberOfParams!==0){o(new j.ResponseError(j.ErrorCodes.InvalidParams,`Request ${d.method} defines ${a.numberOfParams} params but recevied none.`),d.method,h);return}k=i(C.token)}else if(Array.isArray(d.params)){if(a!==void 0&&a.parameterStructures===j.ParameterStructures.byName){o(new j.ResponseError(j.ErrorCodes.InvalidParams,`Request ${d.method} defines parameters by name but received parameters by position`),d.method,h);return}k=i(...d.params,C.token)}else{if(a!==void 0&&a.parameterStructures===j.ParameterStructures.byPosition){o(new j.ResponseError(j.ErrorCodes.InvalidParams,`Request ${d.method} defines parameters by position but received parameters by name`),d.method,h);return}k=i(d.params,C.token)}else q&&(k=q(d.method,d.params,C.token));let L=k;k?L.then?L.then(Q=>{delete p[m],u(Q,d.method,h)},Q=>{delete p[m],Q instanceof j.ResponseError?o(Q,d.method,h):Q&&oe.string(Q.message)?o(new j.ResponseError(j.ErrorCodes.InternalError,`Request ${d.method} failed with message: ${Q.message}`),d.method,h):o(new j.ResponseError(j.ErrorCodes.InternalError,`Request ${d.method} failed unexpectedly without providing any details.`),d.method,h)}):(delete p[m],u(k,d.method,h)):(delete p[m],l(k,d.method,h))}catch(k){delete p[m],k instanceof j.ResponseError?u(k,d.method,h):k&&oe.string(k.message)?o(new j.ResponseError(j.ErrorCodes.InternalError,`Request ${d.method} failed with message: ${k.message}`),d.method,h):o(new j.ResponseError(j.ErrorCodes.InternalError,`Request ${d.method} failed unexpectedly without providing any details.`),d.method,h)}}else o(new j.ResponseError(j.ErrorCodes.MethodNotFound,`Unhandled method ${d.method}`),d.method,h)}function zn(d){if(!Te())if(d.id===null)d.error?s.error(`Received response message without id: Error is: 
${JSON.stringify(d.error,void 0,4)}`):s.error("Received response message without id. No further error information provided.");else{let u=String(d.id),o=G[u];if(Qn(d,o),o){delete G[u];try{if(d.error){let l=d.error;o.reject(new j.ResponseError(l.code,l.message,l.data))}else if(d.result!==void 0)o.resolve(d.result);else throw new Error("Should never happen.")}catch(l){l.message?s.error(`Response handler '${o.method}' failed with message: ${l.message}`):s.error(`Response handler '${o.method}' failed unexpectedly.`)}}}}function wt(d){if(Te())return;let u,o;if(d.method===kt.type.method)o=l=>{let f=l.id,a=p[String(f)];a&&a.cancel()};else{let l=S[d.method];l&&(o=l.handler,u=l.type)}if(o||N)try{Un(d),o?d.params===void 0?(u!==void 0&&u.numberOfParams!==0&&u.parameterStructures!==j.ParameterStructures.byName&&s.error(`Notification ${d.method} defines ${u.numberOfParams} params but recevied none.`),o()):Array.isArray(d.params)?(u!==void 0&&(u.parameterStructures===j.ParameterStructures.byName&&s.error(`Notification ${d.method} defines parameters by name but received parameters by position`),u.numberOfParams!==d.params.length&&s.error(`Notification ${d.method} defines ${u.numberOfParams} params but received ${d.params.length} argumennts`)),o(...d.params)):(u!==void 0&&u.parameterStructures===j.ParameterStructures.byPosition&&s.error(`Notification ${d.method} defines parameters by position but received parameters by name`),o(d.params)):N&&N(d.method,d.params)}catch(l){l.message?s.error(`Notification handler '${d.method}' failed with message: ${l.message}`):s.error(`Notification handler '${d.method}' failed unexpectedly.`)}else Ce.fire(d)}function $n(d){if(!d){s.error("Received empty message.");return}s.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(d,null,4)}`);let u=d;if(oe.string(u.id)||oe.number(u.id)){let o=String(u.id),l=G[o];l&&l.reject(new Error("The received response has neither a result nor an error property."))}}function Bn(d){if(!(g===ee.Off||!F))if(_===_e.Text){let u;g===ee.Verbose&&d.params&&(u=`Params: ${JSON.stringify(d.params,null,4)}

`),F.log(`Sending request '${d.method} - (${d.id})'.`,u)}else xe("send-request",d)}function Jn(d){if(!(g===ee.Off||!F))if(_===_e.Text){let u;g===ee.Verbose&&(d.params?u=`Params: ${JSON.stringify(d.params,null,4)}

`:u=`No parameters provided.

`),F.log(`Sending notification '${d.method}'.`,u)}else xe("send-notification",d)}function st(d,u,o){if(!(g===ee.Off||!F))if(_===_e.Text){let l;g===ee.Verbose&&(d.error&&d.error.data?l=`Error data: ${JSON.stringify(d.error.data,null,4)}

`:d.result?l=`Result: ${JSON.stringify(d.result,null,4)}

`:d.error===void 0&&(l=`No result returned.

`)),F.log(`Sending response '${u} - (${d.id})'. Processing request took ${Date.now()-o}ms`,l)}else xe("send-response",d)}function Gn(d){if(!(g===ee.Off||!F))if(_===_e.Text){let u;g===ee.Verbose&&d.params&&(u=`Params: ${JSON.stringify(d.params,null,4)}

`),F.log(`Received request '${d.method} - (${d.id})'.`,u)}else xe("receive-request",d)}function Un(d){if(!(g===ee.Off||!F||d.method===Br.type.method))if(_===_e.Text){let u;g===ee.Verbose&&(d.params?u=`Params: ${JSON.stringify(d.params,null,4)}

`:u=`No parameters provided.

`),F.log(`Received notification '${d.method}'.`,u)}else xe("receive-notification",d)}function Qn(d,u){if(!(g===ee.Off||!F))if(_===_e.Text){let o;if(g===ee.Verbose&&(d.error&&d.error.data?o=`Error data: ${JSON.stringify(d.error.data,null,4)}

`:d.result?o=`Result: ${JSON.stringify(d.result,null,4)}

`:d.error===void 0&&(o=`No result returned.

`)),u){let l=d.error?` Request failed: ${d.error.message} (${d.error.code}).`:"";F.log(`Received response '${u.method} - (${d.id})' in ${Date.now()-u.timerStart}ms.${l}`,o)}else F.log(`Received response ${d.id} without active response promise.`,o)}else xe("receive-response",d)}function xe(d,u){if(!F||g===ee.Off)return;let o={isLSPMessage:!0,type:d,message:u,timestamp:Date.now()};F.log(o)}function Xe(){if(zt())throw new Le(rn.Closed,"Connection is closed.");if(Te())throw new Le(rn.Disposed,"Connection is disposed.")}function Xn(){if(ot())throw new Le(rn.AlreadyListening,"Connection is already listening")}function Yn(){if(!ot())throw new Error("Call listen() first.")}function Ye(d){return d===void 0?null:d}function Bt(d){if(d!==null)return d}function Jt(d){return d!=null&&!Array.isArray(d)&&typeof d=="object"}function Pt(d,u){switch(d){case j.ParameterStructures.auto:return Jt(u)?Bt(u):[Ye(u)];case j.ParameterStructures.byName:if(!Jt(u))throw new Error("Recevied parameters by name but param is not an object literal.");return Bt(u);case j.ParameterStructures.byPosition:return[Ye(u)];default:throw new Error(`Unknown parameter structure ${d.toString()}`)}}function Gt(d,u){let o,l=d.numberOfParams;switch(l){case 0:o=void 0;break;case 1:o=Pt(d.parameterStructures,u[0]);break;default:o=[];for(let f=0;f<u.length&&f<l;f++)o.push(Ye(u[f]));if(u.length<l)for(let f=u.length;f<l;f++)o.push(null);break}return o}let We={sendNotification:(d,...u)=>{Xe();let o,l;if(oe.string(d)){o=d;let a=u[0],i=0,h=j.ParameterStructures.auto;j.ParameterStructures.is(a)&&(i=1,h=a);let m=u.length,C=m-i;switch(C){case 0:l=void 0;break;case 1:l=Pt(h,u[i]);break;default:if(h===j.ParameterStructures.byName)throw new Error(`Recevied ${C} parameters for 'by Name' notification parameter structure.`);l=u.slice(i,m).map(k=>Ye(k));break}}else{let a=u;o=d.method,l=Gt(d,a)}let f={jsonrpc:R,method:o,params:l};Jn(f),e.write(f)},onNotification:(d,u)=>{Xe();let o;return oe.func(d)?N=d:u&&(oe.string(d)?(o=d,S[d]={type:void 0,handler:u}):(o=d.method,S[d.method]={type:d,handler:u})),{dispose:()=>{o!==void 0?delete S[o]:N=void 0}}},onProgress:(d,u,o)=>{if(A.has(u))throw new Error(`Progress handler for token ${u} already registered`);return A.set(u,o),{dispose:()=>{A.delete(u)}}},sendProgress:(d,u,o)=>{We.sendNotification(on.type,{token:u,value:o})},onUnhandledProgress:Je.event,sendRequest:(d,...u)=>{Xe(),Yn();let o,l,f;if(oe.string(d)){o=d;let m=u[0],C=u[u.length-1],k=0,L=j.ParameterStructures.auto;j.ParameterStructures.is(m)&&(k=1,L=m);let Q=u.length;Hr.CancellationToken.is(C)&&(Q=Q-1,f=C);let ne=Q-k;switch(ne){case 0:l=void 0;break;case 1:l=Pt(L,u[k]);break;default:if(L===j.ParameterStructures.byName)throw new Error(`Recevied ${ne} parameters for 'by Name' request parameter structure.`);l=u.slice(k,Q).map(re=>Ye(re));break}}else{let m=u;o=d.method,l=Gt(d,m);let C=d.numberOfParams;f=Hr.CancellationToken.is(m[C])?m[C]:void 0}let a=y++,i;return f&&(i=f.onCancellationRequested(()=>{Ue.sender.sendCancellation(We,a)})),new Promise((m,C)=>{let k={jsonrpc:R,id:a,method:o,params:l},L=re=>{m(re),Ue.sender.cleanup(a),i?.dispose()},Q=re=>{C(re),Ue.sender.cleanup(a),i?.dispose()},ne={method:o,timerStart:Date.now(),resolve:L,reject:Q};Bn(k);try{e.write(k)}catch(re){ne.reject(new j.ResponseError(j.ErrorCodes.MessageWriteError,re.message?re.message:"Unknown reason")),ne=null}ne&&(G[String(a)]=ne)})},onRequest:(d,u)=>{Xe();let o=null;return $r.is(d)?(o=void 0,q=d):oe.string(d)?(o=null,u!==void 0&&(o=d,b[d]={handler:u,type:void 0})):u!==void 0&&(o=d.method,b[d.method]={type:d,handler:u}),{dispose:()=>{o!==null&&(o!==void 0?delete b[o]:q=void 0)}}},trace:(d,u,o)=>{let l=!1,f=_e.Text;o!==void 0&&(oe.boolean(o)?l=o:(l=o.sendNotification||!1,f=o.traceFormat||_e.Text)),g=d,_=f,g===ee.Off?F=void 0:F=u,l&&!zt()&&!Te()&&We.sendNotification(Ki.type,{value:ee.toString(d)})},onError:Z.event,onClose:me.event,onUnhandledNotification:Ce.event,onDispose:Ge.event,end:()=>{e.end()},dispose:()=>{if(Te())return;O=Re.Disposed,Ge.fire(void 0);let d=new Error("Connection got disposed.");Object.keys(G).forEach(u=>{G[u].reject(d)}),G=Object.create(null),p=Object.create(null),U=new Yi.LinkedMap,oe.func(e.dispose)&&e.dispose(),oe.func(t.dispose)&&t.dispose()},listen:()=>{Xe(),Xn(),O=Re.Listening,t.listen(An)},inspect:()=>{Xi.default().console.log("inspect")}};return We.onNotification(Br.type,d=>{g===ee.Off||!F||F.log(d.message,g===ee.Verbose?d.verbose:void 0)}),We.onNotification(on.type,d=>{let u=A.get(d.token);u?u(d.value):Je.fire(d)}),We}M.createMessageConnection=na});var Yr=D(v=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0});v.CancellationSenderStrategy=v.CancellationReceiverStrategy=v.ConnectionError=v.ConnectionErrors=v.LogTraceNotification=v.SetTraceNotification=v.TraceFormat=v.Trace=v.ProgressType=v.createMessageConnection=v.NullLogger=v.ConnectionOptions=v.ConnectionStrategy=v.WriteableStreamMessageWriter=v.AbstractMessageWriter=v.MessageWriter=v.ReadableStreamMessageReader=v.AbstractMessageReader=v.MessageReader=v.CancellationToken=v.CancellationTokenSource=v.Emitter=v.Event=v.Disposable=v.ParameterStructures=v.NotificationType9=v.NotificationType8=v.NotificationType7=v.NotificationType6=v.NotificationType5=v.NotificationType4=v.NotificationType3=v.NotificationType2=v.NotificationType1=v.NotificationType0=v.NotificationType=v.ErrorCodes=v.ResponseError=v.RequestType9=v.RequestType8=v.RequestType7=v.RequestType6=v.RequestType5=v.RequestType4=v.RequestType3=v.RequestType2=v.RequestType1=v.RequestType0=v.RequestType=v.RAL=void 0;v.CancellationStrategy=void 0;var Y=kr();Object.defineProperty(v,"RequestType",{enumerable:!0,get:function(){return Y.RequestType}});Object.defineProperty(v,"RequestType0",{enumerable:!0,get:function(){return Y.RequestType0}});Object.defineProperty(v,"RequestType1",{enumerable:!0,get:function(){return Y.RequestType1}});Object.defineProperty(v,"RequestType2",{enumerable:!0,get:function(){return Y.RequestType2}});Object.defineProperty(v,"RequestType3",{enumerable:!0,get:function(){return Y.RequestType3}});Object.defineProperty(v,"RequestType4",{enumerable:!0,get:function(){return Y.RequestType4}});Object.defineProperty(v,"RequestType5",{enumerable:!0,get:function(){return Y.RequestType5}});Object.defineProperty(v,"RequestType6",{enumerable:!0,get:function(){return Y.RequestType6}});Object.defineProperty(v,"RequestType7",{enumerable:!0,get:function(){return Y.RequestType7}});Object.defineProperty(v,"RequestType8",{enumerable:!0,get:function(){return Y.RequestType8}});Object.defineProperty(v,"RequestType9",{enumerable:!0,get:function(){return Y.RequestType9}});Object.defineProperty(v,"ResponseError",{enumerable:!0,get:function(){return Y.ResponseError}});Object.defineProperty(v,"ErrorCodes",{enumerable:!0,get:function(){return Y.ErrorCodes}});Object.defineProperty(v,"NotificationType",{enumerable:!0,get:function(){return Y.NotificationType}});Object.defineProperty(v,"NotificationType0",{enumerable:!0,get:function(){return Y.NotificationType0}});Object.defineProperty(v,"NotificationType1",{enumerable:!0,get:function(){return Y.NotificationType1}});Object.defineProperty(v,"NotificationType2",{enumerable:!0,get:function(){return Y.NotificationType2}});Object.defineProperty(v,"NotificationType3",{enumerable:!0,get:function(){return Y.NotificationType3}});Object.defineProperty(v,"NotificationType4",{enumerable:!0,get:function(){return Y.NotificationType4}});Object.defineProperty(v,"NotificationType5",{enumerable:!0,get:function(){return Y.NotificationType5}});Object.defineProperty(v,"NotificationType6",{enumerable:!0,get:function(){return Y.NotificationType6}});Object.defineProperty(v,"NotificationType7",{enumerable:!0,get:function(){return Y.NotificationType7}});Object.defineProperty(v,"NotificationType8",{enumerable:!0,get:function(){return Y.NotificationType8}});Object.defineProperty(v,"NotificationType9",{enumerable:!0,get:function(){return Y.NotificationType9}});Object.defineProperty(v,"ParameterStructures",{enumerable:!0,get:function(){return Y.ParameterStructures}});var ra=er();Object.defineProperty(v,"Disposable",{enumerable:!0,get:function(){return ra.Disposable}});var eo=dt();Object.defineProperty(v,"Event",{enumerable:!0,get:function(){return eo.Event}});Object.defineProperty(v,"Emitter",{enumerable:!0,get:function(){return eo.Emitter}});var to=Fr();Object.defineProperty(v,"CancellationTokenSource",{enumerable:!0,get:function(){return to.CancellationTokenSource}});Object.defineProperty(v,"CancellationToken",{enumerable:!0,get:function(){return to.CancellationToken}});var Qr=zi();Object.defineProperty(v,"MessageReader",{enumerable:!0,get:function(){return Qr.MessageReader}});Object.defineProperty(v,"AbstractMessageReader",{enumerable:!0,get:function(){return Qr.AbstractMessageReader}});Object.defineProperty(v,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Qr.ReadableStreamMessageReader}});var Xr=Ui();Object.defineProperty(v,"MessageWriter",{enumerable:!0,get:function(){return Xr.MessageWriter}});Object.defineProperty(v,"AbstractMessageWriter",{enumerable:!0,get:function(){return Xr.AbstractMessageWriter}});Object.defineProperty(v,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return Xr.WriteableStreamMessageWriter}});var de=Vi();Object.defineProperty(v,"ConnectionStrategy",{enumerable:!0,get:function(){return de.ConnectionStrategy}});Object.defineProperty(v,"ConnectionOptions",{enumerable:!0,get:function(){return de.ConnectionOptions}});Object.defineProperty(v,"NullLogger",{enumerable:!0,get:function(){return de.NullLogger}});Object.defineProperty(v,"createMessageConnection",{enumerable:!0,get:function(){return de.createMessageConnection}});Object.defineProperty(v,"ProgressType",{enumerable:!0,get:function(){return de.ProgressType}});Object.defineProperty(v,"Trace",{enumerable:!0,get:function(){return de.Trace}});Object.defineProperty(v,"TraceFormat",{enumerable:!0,get:function(){return de.TraceFormat}});Object.defineProperty(v,"SetTraceNotification",{enumerable:!0,get:function(){return de.SetTraceNotification}});Object.defineProperty(v,"LogTraceNotification",{enumerable:!0,get:function(){return de.LogTraceNotification}});Object.defineProperty(v,"ConnectionErrors",{enumerable:!0,get:function(){return de.ConnectionErrors}});Object.defineProperty(v,"ConnectionError",{enumerable:!0,get:function(){return de.ConnectionError}});Object.defineProperty(v,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return de.CancellationReceiverStrategy}});Object.defineProperty(v,"CancellationSenderStrategy",{enumerable:!0,get:function(){return de.CancellationSenderStrategy}});Object.defineProperty(v,"CancellationStrategy",{enumerable:!0,get:function(){return de.CancellationStrategy}});var ia=Ne();v.RAL=ia.default});var gt=D($=>{"use strict";var oa=$&&$.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),sa=$&&$.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&oa(e,t,n)};Object.defineProperty($,"__esModule",{value:!0});$.createMessageConnection=$.createServerSocketTransport=$.createClientSocketTransport=$.createServerPipeTransport=$.createClientPipeTransport=$.generateRandomPipeName=$.StreamMessageWriter=$.StreamMessageReader=$.SocketMessageWriter=$.SocketMessageReader=$.IPCMessageWriter=$.IPCMessageReader=void 0;var ht=Wi();ht.default.install();var De=Yr(),no=require("path"),aa=require("os"),ca=require("crypto"),cn=require("net");sa(Yr(),$);var Kr=class extends De.AbstractMessageReader{constructor(e){super(),this.process=e;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),De.Disposable.create(()=>this.process.off("message",e))}};$.IPCMessageReader=Kr;var Zr=class extends De.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};$.IPCMessageWriter=Zr;var tt=class extends De.ReadableStreamMessageReader{constructor(e,n="utf-8"){super(ht.default().stream.asReadableStream(e),n)}};$.SocketMessageReader=tt;var nt=class extends De.WriteableStreamMessageWriter{constructor(e,n){super(ht.default().stream.asWritableStream(e),n),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};$.SocketMessageWriter=nt;var sn=class extends De.ReadableStreamMessageReader{constructor(e,n){super(ht.default().stream.asReadableStream(e),n)}};$.StreamMessageReader=sn;var an=class extends De.WriteableStreamMessageWriter{constructor(e,n){super(ht.default().stream.asWritableStream(e),n)}};$.StreamMessageWriter=an;var ro=process.env.XDG_RUNTIME_DIR,ua=new Map([["linux",107],["darwin",103]]);function la(){let t=ca.randomBytes(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;ro?e=no.join(ro,`vscode-ipc-${t}.sock`):e=no.join(aa.tmpdir(),`vscode-${t}.sock`);let n=ua.get(process.platform);return n!==void 0&&e.length>=n&&ht.default().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}$.generateRandomPipeName=la;function da(t,e="utf-8"){let n,r=new Promise((s,y)=>{n=s});return new Promise((s,y)=>{let P=cn.createServer(E=>{P.close(),n([new tt(E,e),new nt(E,e)])});P.on("error",y),P.listen(t,()=>{P.removeListener("error",y),s({onConnected:()=>r})})})}$.createClientPipeTransport=da;function fa(t,e="utf-8"){let n=cn.createConnection(t);return[new tt(n,e),new nt(n,e)]}$.createServerPipeTransport=fa;function ha(t,e="utf-8"){let n,r=new Promise((s,y)=>{n=s});return new Promise((s,y)=>{let P=cn.createServer(E=>{P.close(),n([new tt(E,e),new nt(E,e)])});P.on("error",y),P.listen(t,"127.0.0.1",()=>{P.removeListener("error",y),s({onConnected:()=>r})})})}$.createClientSocketTransport=ha;function ga(t,e="utf-8"){let n=cn.createConnection(t,"127.0.0.1");return[new tt(n,e),new nt(n,e)]}$.createServerSocketTransport=ga;function ma(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function pa(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function ya(t,e,n,r){n||(n=De.NullLogger);let s=ma(t)?new sn(t):t,y=pa(e)?new an(e):e;return De.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),De.createMessageConnection(s,y,n,r)}$.createMessageConnection=ya});var Vr=D((Yl,io)=>{"use strict";io.exports=gt()});var so=D((oo,un)=>{(function(t){if(typeof un=="object"&&typeof un.exports=="object"){var e=t(require,oo);e!==void 0&&(un.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionKind=e.DocumentSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=void 0;var n;(function(o){o.MIN_VALUE=-2147483648,o.MAX_VALUE=2147483647})(n=e.integer||(e.integer={}));var r;(function(o){o.MIN_VALUE=0,o.MAX_VALUE=2147483647})(r=e.uinteger||(e.uinteger={}));var s;(function(o){function l(a,i){return a===Number.MAX_VALUE&&(a=r.MAX_VALUE),i===Number.MAX_VALUE&&(i=r.MAX_VALUE),{line:a,character:i}}o.create=l;function f(a){var i=a;return u.objectLiteral(i)&&u.uinteger(i.line)&&u.uinteger(i.character)}o.is=f})(s=e.Position||(e.Position={}));var y;(function(o){function l(a,i,h,m){if(u.uinteger(a)&&u.uinteger(i)&&u.uinteger(h)&&u.uinteger(m))return{start:s.create(a,i),end:s.create(h,m)};if(s.is(a)&&s.is(i))return{start:a,end:i};throw new Error("Range#create called with invalid arguments["+a+", "+i+", "+h+", "+m+"]")}o.create=l;function f(a){var i=a;return u.objectLiteral(i)&&s.is(i.start)&&s.is(i.end)}o.is=f})(y=e.Range||(e.Range={}));var P;(function(o){function l(a,i){return{uri:a,range:i}}o.create=l;function f(a){var i=a;return u.defined(i)&&y.is(i.range)&&(u.string(i.uri)||u.undefined(i.uri))}o.is=f})(P=e.Location||(e.Location={}));var E;(function(o){function l(a,i,h,m){return{targetUri:a,targetRange:i,targetSelectionRange:h,originSelectionRange:m}}o.create=l;function f(a){var i=a;return u.defined(i)&&y.is(i.targetRange)&&u.string(i.targetUri)&&(y.is(i.targetSelectionRange)||u.undefined(i.targetSelectionRange))&&(y.is(i.originSelectionRange)||u.undefined(i.originSelectionRange))}o.is=f})(E=e.LocationLink||(e.LocationLink={}));var R;(function(o){function l(a,i,h,m){return{red:a,green:i,blue:h,alpha:m}}o.create=l;function f(a){var i=a;return u.numberRange(i.red,0,1)&&u.numberRange(i.green,0,1)&&u.numberRange(i.blue,0,1)&&u.numberRange(i.alpha,0,1)}o.is=f})(R=e.Color||(e.Color={}));var q;(function(o){function l(a,i){return{range:a,color:i}}o.create=l;function f(a){var i=a;return y.is(i.range)&&R.is(i.color)}o.is=f})(q=e.ColorInformation||(e.ColorInformation={}));var b;(function(o){function l(a,i,h){return{label:a,textEdit:i,additionalTextEdits:h}}o.create=l;function f(a){var i=a;return u.string(i.label)&&(u.undefined(i.textEdit)||_.is(i))&&(u.undefined(i.additionalTextEdits)||u.typedArray(i.additionalTextEdits,_.is))}o.is=f})(b=e.ColorPresentation||(e.ColorPresentation={}));var N;(function(o){o.Comment="comment",o.Imports="imports",o.Region="region"})(N=e.FoldingRangeKind||(e.FoldingRangeKind={}));var S;(function(o){function l(a,i,h,m,C){var k={startLine:a,endLine:i};return u.defined(h)&&(k.startCharacter=h),u.defined(m)&&(k.endCharacter=m),u.defined(C)&&(k.kind=C),k}o.create=l;function f(a){var i=a;return u.uinteger(i.startLine)&&u.uinteger(i.startLine)&&(u.undefined(i.startCharacter)||u.uinteger(i.startCharacter))&&(u.undefined(i.endCharacter)||u.uinteger(i.endCharacter))&&(u.undefined(i.kind)||u.string(i.kind))}o.is=f})(S=e.FoldingRange||(e.FoldingRange={}));var A;(function(o){function l(a,i){return{location:a,message:i}}o.create=l;function f(a){var i=a;return u.defined(i)&&P.is(i.location)&&u.string(i.message)}o.is=f})(A=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var B;(function(o){o.Error=1,o.Warning=2,o.Information=3,o.Hint=4})(B=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var U;(function(o){o.Unnecessary=1,o.Deprecated=2})(U=e.DiagnosticTag||(e.DiagnosticTag={}));var G;(function(o){function l(f){var a=f;return a!=null&&u.string(a.href)}o.is=l})(G=e.CodeDescription||(e.CodeDescription={}));var p;(function(o){function l(a,i,h,m,C,k){var L={range:a,message:i};return u.defined(h)&&(L.severity=h),u.defined(m)&&(L.code=m),u.defined(C)&&(L.source=C),u.defined(k)&&(L.relatedInformation=k),L}o.create=l;function f(a){var i,h=a;return u.defined(h)&&y.is(h.range)&&u.string(h.message)&&(u.number(h.severity)||u.undefined(h.severity))&&(u.integer(h.code)||u.string(h.code)||u.undefined(h.code))&&(u.undefined(h.codeDescription)||u.string((i=h.codeDescription)===null||i===void 0?void 0:i.href))&&(u.string(h.source)||u.undefined(h.source))&&(u.undefined(h.relatedInformation)||u.typedArray(h.relatedInformation,A.is))}o.is=f})(p=e.Diagnostic||(e.Diagnostic={}));var g;(function(o){function l(a,i){for(var h=[],m=2;m<arguments.length;m++)h[m-2]=arguments[m];var C={title:a,command:i};return u.defined(h)&&h.length>0&&(C.arguments=h),C}o.create=l;function f(a){var i=a;return u.defined(i)&&u.string(i.title)&&u.string(i.command)}o.is=f})(g=e.Command||(e.Command={}));var _;(function(o){function l(h,m){return{range:h,newText:m}}o.replace=l;function f(h,m){return{range:{start:h,end:h},newText:m}}o.insert=f;function a(h){return{range:h,newText:""}}o.del=a;function i(h){var m=h;return u.objectLiteral(m)&&u.string(m.newText)&&y.is(m.range)}o.is=i})(_=e.TextEdit||(e.TextEdit={}));var F;(function(o){function l(a,i,h){var m={label:a};return i!==void 0&&(m.needsConfirmation=i),h!==void 0&&(m.description=h),m}o.create=l;function f(a){var i=a;return i!==void 0&&u.objectLiteral(i)&&u.string(i.label)&&(u.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(u.string(i.description)||i.description===void 0)}o.is=f})(F=e.ChangeAnnotation||(e.ChangeAnnotation={}));var O;(function(o){function l(f){var a=f;return typeof a=="string"}o.is=l})(O=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var Z;(function(o){function l(h,m,C){return{range:h,newText:m,annotationId:C}}o.replace=l;function f(h,m,C){return{range:{start:h,end:h},newText:m,annotationId:C}}o.insert=f;function a(h,m){return{range:h,newText:"",annotationId:m}}o.del=a;function i(h){var m=h;return _.is(m)&&(F.is(m.annotationId)||O.is(m.annotationId))}o.is=i})(Z=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var me;(function(o){function l(a,i){return{textDocument:a,edits:i}}o.create=l;function f(a){var i=a;return u.defined(i)&&ot.is(i.textDocument)&&Array.isArray(i.edits)}o.is=f})(me=e.TextDocumentEdit||(e.TextDocumentEdit={}));var Ce;(function(o){function l(a,i,h){var m={kind:"create",uri:a};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(m.options=i),h!==void 0&&(m.annotationId=h),m}o.create=l;function f(a){var i=a;return i&&i.kind==="create"&&u.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||u.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||u.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||O.is(i.annotationId))}o.is=f})(Ce=e.CreateFile||(e.CreateFile={}));var Je;(function(o){function l(a,i,h,m){var C={kind:"rename",oldUri:a,newUri:i};return h!==void 0&&(h.overwrite!==void 0||h.ignoreIfExists!==void 0)&&(C.options=h),m!==void 0&&(C.annotationId=m),C}o.create=l;function f(a){var i=a;return i&&i.kind==="rename"&&u.string(i.oldUri)&&u.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||u.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||u.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||O.is(i.annotationId))}o.is=f})(Je=e.RenameFile||(e.RenameFile={}));var Ge;(function(o){function l(a,i,h){var m={kind:"delete",uri:a};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(m.options=i),h!==void 0&&(m.annotationId=h),m}o.create=l;function f(a){var i=a;return i&&i.kind==="delete"&&u.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||u.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||u.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||O.is(i.annotationId))}o.is=f})(Ge=e.DeleteFile||(e.DeleteFile={}));var Ue;(function(o){function l(f){var a=f;return a&&(a.changes!==void 0||a.documentChanges!==void 0)&&(a.documentChanges===void 0||a.documentChanges.every(function(i){return u.string(i.kind)?Ce.is(i)||Je.is(i)||Ge.is(i):me.is(i)}))}o.is=l})(Ue=e.WorkspaceEdit||(e.WorkspaceEdit={}));var Qe=function(){function o(l,f){this.edits=l,this.changeAnnotations=f}return o.prototype.insert=function(l,f,a){var i,h;if(a===void 0?i=_.insert(l,f):O.is(a)?(h=a,i=Z.insert(l,f,a)):(this.assertChangeAnnotations(this.changeAnnotations),h=this.changeAnnotations.manage(a),i=Z.insert(l,f,h)),this.edits.push(i),h!==void 0)return h},o.prototype.replace=function(l,f,a){var i,h;if(a===void 0?i=_.replace(l,f):O.is(a)?(h=a,i=Z.replace(l,f,a)):(this.assertChangeAnnotations(this.changeAnnotations),h=this.changeAnnotations.manage(a),i=Z.replace(l,f,h)),this.edits.push(i),h!==void 0)return h},o.prototype.delete=function(l,f){var a,i;if(f===void 0?a=_.del(l):O.is(f)?(i=f,a=Z.del(l,f)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(f),a=Z.del(l,i)),this.edits.push(a),i!==void 0)return i},o.prototype.add=function(l){this.edits.push(l)},o.prototype.all=function(){return this.edits},o.prototype.clear=function(){this.edits.splice(0,this.edits.length)},o.prototype.assertChangeAnnotations=function(l){if(l===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},o}(),Ht=function(){function o(l){this._annotations=l===void 0?Object.create(null):l,this._counter=0,this._size=0}return o.prototype.all=function(){return this._annotations},Object.defineProperty(o.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),o.prototype.manage=function(l,f){var a;if(O.is(l)?a=l:(a=this.nextId(),f=l),this._annotations[a]!==void 0)throw new Error("Id "+a+" is already in use.");if(f===void 0)throw new Error("No annotation provided for id "+a);return this._annotations[a]=f,this._size++,a},o.prototype.nextId=function(){return this._counter++,this._counter.toString()},o}(),jn=function(){function o(l){var f=this;this._textEditChanges=Object.create(null),l!==void 0?(this._workspaceEdit=l,l.documentChanges?(this._changeAnnotations=new Ht(l.changeAnnotations),l.changeAnnotations=this._changeAnnotations.all(),l.documentChanges.forEach(function(a){if(me.is(a)){var i=new Qe(a.edits,f._changeAnnotations);f._textEditChanges[a.textDocument.uri]=i}})):l.changes&&Object.keys(l.changes).forEach(function(a){var i=new Qe(l.changes[a]);f._textEditChanges[a]=i})):this._workspaceEdit={}}return Object.defineProperty(o.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),o.prototype.getTextEditChange=function(l){if(ot.is(l)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var f={uri:l.uri,version:l.version},a=this._textEditChanges[f.uri];if(!a){var i=[],h={textDocument:f,edits:i};this._workspaceEdit.documentChanges.push(h),a=new Qe(i,this._changeAnnotations),this._textEditChanges[f.uri]=a}return a}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var a=this._textEditChanges[l];if(!a){var i=[];this._workspaceEdit.changes[l]=i,a=new Qe(i),this._textEditChanges[l]=a}return a}},o.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new Ht,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},o.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},o.prototype.createFile=function(l,f,a){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i;F.is(f)||O.is(f)?i=f:a=f;var h,m;if(i===void 0?h=Ce.create(l,a):(m=O.is(i)?i:this._changeAnnotations.manage(i),h=Ce.create(l,a,m)),this._workspaceEdit.documentChanges.push(h),m!==void 0)return m},o.prototype.renameFile=function(l,f,a,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var h;F.is(a)||O.is(a)?h=a:i=a;var m,C;if(h===void 0?m=Je.create(l,f,i):(C=O.is(h)?h:this._changeAnnotations.manage(h),m=Je.create(l,f,i,C)),this._workspaceEdit.documentChanges.push(m),C!==void 0)return C},o.prototype.deleteFile=function(l,f,a){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i;F.is(f)||O.is(f)?i=f:a=f;var h,m;if(i===void 0?h=Ge.create(l,a):(m=O.is(i)?i:this._changeAnnotations.manage(i),h=Ge.create(l,a,m)),this._workspaceEdit.documentChanges.push(h),m!==void 0)return m},o}();e.WorkspaceChange=jn;var Mn;(function(o){function l(a){return{uri:a}}o.create=l;function f(a){var i=a;return u.defined(i)&&u.string(i.uri)}o.is=f})(Mn=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var xn;(function(o){function l(a,i){return{uri:a,version:i}}o.create=l;function f(a){var i=a;return u.defined(i)&&u.string(i.uri)&&u.integer(i.version)}o.is=f})(xn=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var ot;(function(o){function l(a,i){return{uri:a,version:i}}o.create=l;function f(a){var i=a;return u.defined(i)&&u.string(i.uri)&&(i.version===null||u.integer(i.version))}o.is=f})(ot=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var zt;(function(o){function l(a,i,h,m){return{uri:a,languageId:i,version:h,text:m}}o.create=l;function f(a){var i=a;return u.defined(i)&&u.string(i.uri)&&u.string(i.languageId)&&u.integer(i.version)&&u.string(i.text)}o.is=f})(zt=e.TextDocumentItem||(e.TextDocumentItem={}));var Te;(function(o){o.PlainText="plaintext",o.Markdown="markdown"})(Te=e.MarkupKind||(e.MarkupKind={})),function(o){function l(f){var a=f;return a===o.PlainText||a===o.Markdown}o.is=l}(Te=e.MarkupKind||(e.MarkupKind={}));var bt;(function(o){function l(f){var a=f;return u.objectLiteral(f)&&Te.is(a.kind)&&u.string(a.value)}o.is=l})(bt=e.MarkupContent||(e.MarkupContent={}));var Wn;(function(o){o.Text=1,o.Method=2,o.Function=3,o.Constructor=4,o.Field=5,o.Variable=6,o.Class=7,o.Interface=8,o.Module=9,o.Property=10,o.Unit=11,o.Value=12,o.Enum=13,o.Keyword=14,o.Snippet=15,o.Color=16,o.File=17,o.Reference=18,o.Folder=19,o.EnumMember=20,o.Constant=21,o.Struct=22,o.Event=23,o.Operator=24,o.TypeParameter=25})(Wn=e.CompletionItemKind||(e.CompletionItemKind={}));var Ln;(function(o){o.PlainText=1,o.Snippet=2})(Ln=e.InsertTextFormat||(e.InsertTextFormat={}));var $t;(function(o){o.Deprecated=1})($t=e.CompletionItemTag||(e.CompletionItemTag={}));var In;(function(o){function l(a,i,h){return{newText:a,insert:i,replace:h}}o.create=l;function f(a){var i=a;return i&&u.string(i.newText)&&y.is(i.insert)&&y.is(i.replace)}o.is=f})(In=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var An;(function(o){o.asIs=1,o.adjustIndentation=2})(An=e.InsertTextMode||(e.InsertTextMode={}));var Hn;(function(o){function l(f){return{label:f}}o.create=l})(Hn=e.CompletionItem||(e.CompletionItem={}));var zn;(function(o){function l(f,a){return{items:f||[],isIncomplete:!!a}}o.create=l})(zn=e.CompletionList||(e.CompletionList={}));var wt;(function(o){function l(a){return a.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o.fromPlainText=l;function f(a){var i=a;return u.string(i)||u.objectLiteral(i)&&u.string(i.language)&&u.string(i.value)}o.is=f})(wt=e.MarkedString||(e.MarkedString={}));var $n;(function(o){function l(f){var a=f;return!!a&&u.objectLiteral(a)&&(bt.is(a.contents)||wt.is(a.contents)||u.typedArray(a.contents,wt.is))&&(f.range===void 0||y.is(f.range))}o.is=l})($n=e.Hover||(e.Hover={}));var Bn;(function(o){function l(f,a){return a?{label:f,documentation:a}:{label:f}}o.create=l})(Bn=e.ParameterInformation||(e.ParameterInformation={}));var Jn;(function(o){function l(f,a){for(var i=[],h=2;h<arguments.length;h++)i[h-2]=arguments[h];var m={label:f};return u.defined(a)&&(m.documentation=a),u.defined(i)?m.parameters=i:m.parameters=[],m}o.create=l})(Jn=e.SignatureInformation||(e.SignatureInformation={}));var st;(function(o){o.Text=1,o.Read=2,o.Write=3})(st=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var Gn;(function(o){function l(f,a){var i={range:f};return u.number(a)&&(i.kind=a),i}o.create=l})(Gn=e.DocumentHighlight||(e.DocumentHighlight={}));var Un;(function(o){o.File=1,o.Module=2,o.Namespace=3,o.Package=4,o.Class=5,o.Method=6,o.Property=7,o.Field=8,o.Constructor=9,o.Enum=10,o.Interface=11,o.Function=12,o.Variable=13,o.Constant=14,o.String=15,o.Number=16,o.Boolean=17,o.Array=18,o.Object=19,o.Key=20,o.Null=21,o.EnumMember=22,o.Struct=23,o.Event=24,o.Operator=25,o.TypeParameter=26})(Un=e.SymbolKind||(e.SymbolKind={}));var Qn;(function(o){o.Deprecated=1})(Qn=e.SymbolTag||(e.SymbolTag={}));var xe;(function(o){function l(f,a,i,h,m){var C={name:f,kind:a,location:{uri:h,range:i}};return m&&(C.containerName=m),C}o.create=l})(xe=e.SymbolInformation||(e.SymbolInformation={}));var Xe;(function(o){function l(a,i,h,m,C,k){var L={name:a,detail:i,kind:h,range:m,selectionRange:C};return k!==void 0&&(L.children=k),L}o.create=l;function f(a){var i=a;return i&&u.string(i.name)&&u.number(i.kind)&&y.is(i.range)&&y.is(i.selectionRange)&&(i.detail===void 0||u.string(i.detail))&&(i.deprecated===void 0||u.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}o.is=f})(Xe=e.DocumentSymbol||(e.DocumentSymbol={}));var Xn;(function(o){o.Empty="",o.QuickFix="quickfix",o.Refactor="refactor",o.RefactorExtract="refactor.extract",o.RefactorInline="refactor.inline",o.RefactorRewrite="refactor.rewrite",o.Source="source",o.SourceOrganizeImports="source.organizeImports",o.SourceFixAll="source.fixAll"})(Xn=e.CodeActionKind||(e.CodeActionKind={}));var Yn;(function(o){function l(a,i){var h={diagnostics:a};return i!=null&&(h.only=i),h}o.create=l;function f(a){var i=a;return u.defined(i)&&u.typedArray(i.diagnostics,p.is)&&(i.only===void 0||u.typedArray(i.only,u.string))}o.is=f})(Yn=e.CodeActionContext||(e.CodeActionContext={}));var Ye;(function(o){function l(a,i,h){var m={title:a},C=!0;return typeof i=="string"?(C=!1,m.kind=i):g.is(i)?m.command=i:m.edit=i,C&&h!==void 0&&(m.kind=h),m}o.create=l;function f(a){var i=a;return i&&u.string(i.title)&&(i.diagnostics===void 0||u.typedArray(i.diagnostics,p.is))&&(i.kind===void 0||u.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||g.is(i.command))&&(i.isPreferred===void 0||u.boolean(i.isPreferred))&&(i.edit===void 0||Ue.is(i.edit))}o.is=f})(Ye=e.CodeAction||(e.CodeAction={}));var Bt;(function(o){function l(a,i){var h={range:a};return u.defined(i)&&(h.data=i),h}o.create=l;function f(a){var i=a;return u.defined(i)&&y.is(i.range)&&(u.undefined(i.command)||g.is(i.command))}o.is=f})(Bt=e.CodeLens||(e.CodeLens={}));var Jt;(function(o){function l(a,i){return{tabSize:a,insertSpaces:i}}o.create=l;function f(a){var i=a;return u.defined(i)&&u.uinteger(i.tabSize)&&u.boolean(i.insertSpaces)}o.is=f})(Jt=e.FormattingOptions||(e.FormattingOptions={}));var Pt;(function(o){function l(a,i,h){return{range:a,target:i,data:h}}o.create=l;function f(a){var i=a;return u.defined(i)&&y.is(i.range)&&(u.undefined(i.target)||u.string(i.target))}o.is=f})(Pt=e.DocumentLink||(e.DocumentLink={}));var Gt;(function(o){function l(a,i){return{range:a,parent:i}}o.create=l;function f(a){var i=a;return i!==void 0&&y.is(i.range)&&(i.parent===void 0||o.is(i.parent))}o.is=f})(Gt=e.SelectionRange||(e.SelectionRange={})),e.EOL=[`
`,`\r
`,"\r"];var We;(function(o){function l(h,m,C,k){return new d(h,m,C,k)}o.create=l;function f(h){var m=h;return!!(u.defined(m)&&u.string(m.uri)&&(u.undefined(m.languageId)||u.string(m.languageId))&&u.uinteger(m.lineCount)&&u.func(m.getText)&&u.func(m.positionAt)&&u.func(m.offsetAt))}o.is=f;function a(h,m){for(var C=h.getText(),k=i(m,function(at,Ut){var Si=at.range.start.line-Ut.range.start.line;return Si===0?at.range.start.character-Ut.range.start.character:Si}),L=C.length,Q=k.length-1;Q>=0;Q--){var ne=k[Q],re=h.offsetAt(ne.range.start),H=h.offsetAt(ne.range.end);if(H<=L)C=C.substring(0,re)+ne.newText+C.substring(H,C.length);else throw new Error("Overlapping edit");L=re}return C}o.applyEdits=a;function i(h,m){if(h.length<=1)return h;var C=h.length/2|0,k=h.slice(0,C),L=h.slice(C);i(k,m),i(L,m);for(var Q=0,ne=0,re=0;Q<k.length&&ne<L.length;){var H=m(k[Q],L[ne]);H<=0?h[re++]=k[Q++]:h[re++]=L[ne++]}for(;Q<k.length;)h[re++]=k[Q++];for(;ne<L.length;)h[re++]=L[ne++];return h}})(We=e.TextDocument||(e.TextDocument={}));var d=function(){function o(l,f,a,i){this._uri=l,this._languageId=f,this._version=a,this._content=i,this._lineOffsets=void 0}return Object.defineProperty(o.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),o.prototype.getText=function(l){if(l){var f=this.offsetAt(l.start),a=this.offsetAt(l.end);return this._content.substring(f,a)}return this._content},o.prototype.update=function(l,f){this._content=l.text,this._version=f,this._lineOffsets=void 0},o.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var l=[],f=this._content,a=!0,i=0;i<f.length;i++){a&&(l.push(i),a=!1);var h=f.charAt(i);a=h==="\r"||h===`
`,h==="\r"&&i+1<f.length&&f.charAt(i+1)===`
`&&i++}a&&f.length>0&&l.push(f.length),this._lineOffsets=l}return this._lineOffsets},o.prototype.positionAt=function(l){l=Math.max(Math.min(l,this._content.length),0);var f=this.getLineOffsets(),a=0,i=f.length;if(i===0)return s.create(0,l);for(;a<i;){var h=Math.floor((a+i)/2);f[h]>l?i=h:a=h+1}var m=a-1;return s.create(m,l-f[m])},o.prototype.offsetAt=function(l){var f=this.getLineOffsets();if(l.line>=f.length)return this._content.length;if(l.line<0)return 0;var a=f[l.line],i=l.line+1<f.length?f[l.line+1]:this._content.length;return Math.max(Math.min(a+l.character,i),a)},Object.defineProperty(o.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),o}(),u;(function(o){var l=Object.prototype.toString;function f(H){return typeof H<"u"}o.defined=f;function a(H){return typeof H>"u"}o.undefined=a;function i(H){return H===!0||H===!1}o.boolean=i;function h(H){return l.call(H)==="[object String]"}o.string=h;function m(H){return l.call(H)==="[object Number]"}o.number=m;function C(H,at,Ut){return l.call(H)==="[object Number]"&&at<=H&&H<=Ut}o.numberRange=C;function k(H){return l.call(H)==="[object Number]"&&-2147483648<=H&&H<=2147483647}o.integer=k;function L(H){return l.call(H)==="[object Number]"&&0<=H&&H<=2147483647}o.uinteger=L;function Q(H){return l.call(H)==="[object Function]"}o.func=Q;function ne(H){return H!==null&&typeof H=="object"}o.objectLiteral=ne;function re(H,at){return Array.isArray(H)&&H.every(at)}o.typedArray=re})(u||(u={}))})});var se=D(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.ProtocolNotificationType=pe.ProtocolNotificationType0=pe.ProtocolRequestType=pe.ProtocolRequestType0=pe.RegistrationType=void 0;var mt=gt(),ei=class{constructor(e){this.method=e}};pe.RegistrationType=ei;var ti=class extends mt.RequestType0{constructor(e){super(e)}};pe.ProtocolRequestType0=ti;var ni=class extends mt.RequestType{constructor(e){super(e,mt.ParameterStructures.byName)}};pe.ProtocolRequestType=ni;var ri=class extends mt.NotificationType0{constructor(e){super(e)}};pe.ProtocolNotificationType0=ri;var ii=class extends mt.NotificationType{constructor(e){super(e,mt.ParameterStructures.byName)}};pe.ProtocolNotificationType=ii});var uo=D(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.objectLiteral=te.typedArray=te.stringArray=te.array=te.func=te.error=te.number=te.string=te.boolean=void 0;function va(t){return t===!0||t===!1}te.boolean=va;function ao(t){return typeof t=="string"||t instanceof String}te.string=ao;function _a(t){return typeof t=="number"||t instanceof Number}te.number=_a;function Ra(t){return t instanceof Error}te.error=Ra;function ba(t){return typeof t=="function"}te.func=ba;function co(t){return Array.isArray(t)}te.array=co;function wa(t){return co(t)&&t.every(e=>ao(e))}te.stringArray=wa;function Pa(t,e){return Array.isArray(t)&&t.every(e)}te.typedArray=Pa;function qa(t){return t!==null&&typeof t=="object"}te.objectLiteral=qa});var lo=D(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.ImplementationRequest=void 0;var Ca=se(),Ta;(function(t){t.method="textDocument/implementation",t.type=new Ca.ProtocolRequestType(t.method)})(Ta=St.ImplementationRequest||(St.ImplementationRequest={}))});var fo=D(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.TypeDefinitionRequest=void 0;var Da=se(),ka;(function(t){t.method="textDocument/typeDefinition",t.type=new Da.ProtocolRequestType(t.method)})(ka=Et.TypeDefinitionRequest||(Et.TypeDefinitionRequest={}))});var go=D(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.DidChangeWorkspaceFoldersNotification=Ie.WorkspaceFoldersRequest=void 0;var ho=se(),Sa;(function(t){t.type=new ho.ProtocolRequestType0("workspace/workspaceFolders")})(Sa=Ie.WorkspaceFoldersRequest||(Ie.WorkspaceFoldersRequest={}));var Ea;(function(t){t.type=new ho.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(Ea=Ie.DidChangeWorkspaceFoldersNotification||(Ie.DidChangeWorkspaceFoldersNotification={}))});var mo=D(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.ConfigurationRequest=void 0;var Na=se(),Oa;(function(t){t.type=new Na.ProtocolRequestType("workspace/configuration")})(Oa=Nt.ConfigurationRequest||(Nt.ConfigurationRequest={}))});var yo=D(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.ColorPresentationRequest=Ae.DocumentColorRequest=void 0;var po=se(),Fa;(function(t){t.method="textDocument/documentColor",t.type=new po.ProtocolRequestType(t.method)})(Fa=Ae.DocumentColorRequest||(Ae.DocumentColorRequest={}));var ja;(function(t){t.type=new po.ProtocolRequestType("textDocument/colorPresentation")})(ja=Ae.ColorPresentationRequest||(Ae.ColorPresentationRequest={}))});var vo=D(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.FoldingRangeRequest=He.FoldingRangeKind=void 0;var Ma=se(),xa;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(xa=He.FoldingRangeKind||(He.FoldingRangeKind={}));var Wa;(function(t){t.method="textDocument/foldingRange",t.type=new Ma.ProtocolRequestType(t.method)})(Wa=He.FoldingRangeRequest||(He.FoldingRangeRequest={}))});var _o=D(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.DeclarationRequest=void 0;var La=se(),Ia;(function(t){t.method="textDocument/declaration",t.type=new La.ProtocolRequestType(t.method)})(Ia=Ot.DeclarationRequest||(Ot.DeclarationRequest={}))});var Ro=D(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.SelectionRangeRequest=void 0;var Aa=se(),Ha;(function(t){t.method="textDocument/selectionRange",t.type=new Aa.ProtocolRequestType(t.method)})(Ha=Ft.SelectionRangeRequest||(Ft.SelectionRangeRequest={}))});var wo=D(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.WorkDoneProgressCancelNotification=be.WorkDoneProgressCreateRequest=be.WorkDoneProgress=void 0;var za=gt(),bo=se(),$a;(function(t){t.type=new za.ProgressType;function e(n){return n===t.type}t.is=e})($a=be.WorkDoneProgress||(be.WorkDoneProgress={}));var Ba;(function(t){t.type=new bo.ProtocolRequestType("window/workDoneProgress/create")})(Ba=be.WorkDoneProgressCreateRequest||(be.WorkDoneProgressCreateRequest={}));var Ja;(function(t){t.type=new bo.ProtocolNotificationType("window/workDoneProgress/cancel")})(Ja=be.WorkDoneProgressCancelNotification||(be.WorkDoneProgressCancelNotification={}))});var Po=D(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.CallHierarchyOutgoingCallsRequest=we.CallHierarchyIncomingCallsRequest=we.CallHierarchyPrepareRequest=void 0;var oi=se(),Ga;(function(t){t.method="textDocument/prepareCallHierarchy",t.type=new oi.ProtocolRequestType(t.method)})(Ga=we.CallHierarchyPrepareRequest||(we.CallHierarchyPrepareRequest={}));var Ua;(function(t){t.method="callHierarchy/incomingCalls",t.type=new oi.ProtocolRequestType(t.method)})(Ua=we.CallHierarchyIncomingCallsRequest||(we.CallHierarchyIncomingCallsRequest={}));var Qa;(function(t){t.method="callHierarchy/outgoingCalls",t.type=new oi.ProtocolRequestType(t.method)})(Qa=we.CallHierarchyOutgoingCallsRequest||(we.CallHierarchyOutgoingCallsRequest={}))});var qo=D(J=>{"use strict";Object.defineProperty(J,"__esModule",{value:!0});J.SemanticTokensRefreshRequest=J.SemanticTokensRangeRequest=J.SemanticTokensDeltaRequest=J.SemanticTokensRequest=J.SemanticTokensRegistrationType=J.TokenFormat=J.SemanticTokens=J.SemanticTokenModifiers=J.SemanticTokenTypes=void 0;var jt=se(),Xa;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator"})(Xa=J.SemanticTokenTypes||(J.SemanticTokenTypes={}));var Ya;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(Ya=J.SemanticTokenModifiers||(J.SemanticTokenModifiers={}));var Ka;(function(t){function e(n){let r=n;return r!==void 0&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}t.is=e})(Ka=J.SemanticTokens||(J.SemanticTokens={}));var Za;(function(t){t.Relative="relative"})(Za=J.TokenFormat||(J.TokenFormat={}));var Va;(function(t){t.method="textDocument/semanticTokens",t.type=new jt.RegistrationType(t.method)})(Va=J.SemanticTokensRegistrationType||(J.SemanticTokensRegistrationType={}));var ec;(function(t){t.method="textDocument/semanticTokens/full",t.type=new jt.ProtocolRequestType(t.method)})(ec=J.SemanticTokensRequest||(J.SemanticTokensRequest={}));var tc;(function(t){t.method="textDocument/semanticTokens/full/delta",t.type=new jt.ProtocolRequestType(t.method)})(tc=J.SemanticTokensDeltaRequest||(J.SemanticTokensDeltaRequest={}));var nc;(function(t){t.method="textDocument/semanticTokens/range",t.type=new jt.ProtocolRequestType(t.method)})(nc=J.SemanticTokensRangeRequest||(J.SemanticTokensRangeRequest={}));var rc;(function(t){t.method="workspace/semanticTokens/refresh",t.type=new jt.ProtocolRequestType0(t.method)})(rc=J.SemanticTokensRefreshRequest||(J.SemanticTokensRefreshRequest={}))});var Co=D(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.ShowDocumentRequest=void 0;var ic=se(),oc;(function(t){t.method="window/showDocument",t.type=new ic.ProtocolRequestType(t.method)})(oc=Mt.ShowDocumentRequest||(Mt.ShowDocumentRequest={}))});var To=D(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.LinkedEditingRangeRequest=void 0;var sc=se(),ac;(function(t){t.method="textDocument/linkedEditingRange",t.type=new sc.ProtocolRequestType(t.method)})(ac=xt.LinkedEditingRangeRequest||(xt.LinkedEditingRangeRequest={}))});var Do=D(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.WillDeleteFilesRequest=K.DidDeleteFilesNotification=K.DidRenameFilesNotification=K.WillRenameFilesRequest=K.DidCreateFilesNotification=K.WillCreateFilesRequest=K.FileOperationPatternKind=void 0;var pt=se(),cc;(function(t){t.file="file",t.folder="folder"})(cc=K.FileOperationPatternKind||(K.FileOperationPatternKind={}));var uc;(function(t){t.method="workspace/willCreateFiles",t.type=new pt.ProtocolRequestType(t.method)})(uc=K.WillCreateFilesRequest||(K.WillCreateFilesRequest={}));var lc;(function(t){t.method="workspace/didCreateFiles",t.type=new pt.ProtocolNotificationType(t.method)})(lc=K.DidCreateFilesNotification||(K.DidCreateFilesNotification={}));var dc;(function(t){t.method="workspace/willRenameFiles",t.type=new pt.ProtocolRequestType(t.method)})(dc=K.WillRenameFilesRequest||(K.WillRenameFilesRequest={}));var fc;(function(t){t.method="workspace/didRenameFiles",t.type=new pt.ProtocolNotificationType(t.method)})(fc=K.DidRenameFilesNotification||(K.DidRenameFilesNotification={}));var hc;(function(t){t.method="workspace/didDeleteFiles",t.type=new pt.ProtocolNotificationType(t.method)})(hc=K.DidDeleteFilesNotification||(K.DidDeleteFilesNotification={}));var gc;(function(t){t.method="workspace/willDeleteFiles",t.type=new pt.ProtocolRequestType(t.method)})(gc=K.WillDeleteFilesRequest||(K.WillDeleteFilesRequest={}))});var ko=D(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.MonikerRequest=Pe.MonikerKind=Pe.UniquenessLevel=void 0;var mc=se(),pc;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(pc=Pe.UniquenessLevel||(Pe.UniquenessLevel={}));var yc;(function(t){t.import="import",t.export="export",t.local="local"})(yc=Pe.MonikerKind||(Pe.MonikerKind={}));var vc;(function(t){t.method="textDocument/moniker",t.type=new mc.ProtocolRequestType(t.method)})(vc=Pe.MonikerRequest||(Pe.MonikerRequest={}))});var Fo=D(c=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});c.DocumentLinkRequest=c.CodeLensRefreshRequest=c.CodeLensResolveRequest=c.CodeLensRequest=c.WorkspaceSymbolRequest=c.CodeActionResolveRequest=c.CodeActionRequest=c.DocumentSymbolRequest=c.DocumentHighlightRequest=c.ReferencesRequest=c.DefinitionRequest=c.SignatureHelpRequest=c.SignatureHelpTriggerKind=c.HoverRequest=c.CompletionResolveRequest=c.CompletionRequest=c.CompletionTriggerKind=c.PublishDiagnosticsNotification=c.WatchKind=c.FileChangeType=c.DidChangeWatchedFilesNotification=c.WillSaveTextDocumentWaitUntilRequest=c.WillSaveTextDocumentNotification=c.TextDocumentSaveReason=c.DidSaveTextDocumentNotification=c.DidCloseTextDocumentNotification=c.DidChangeTextDocumentNotification=c.TextDocumentContentChangeEvent=c.DidOpenTextDocumentNotification=c.TextDocumentSyncKind=c.TelemetryEventNotification=c.LogMessageNotification=c.ShowMessageRequest=c.ShowMessageNotification=c.MessageType=c.DidChangeConfigurationNotification=c.ExitNotification=c.ShutdownRequest=c.InitializedNotification=c.InitializeError=c.InitializeRequest=c.WorkDoneProgressOptions=c.TextDocumentRegistrationOptions=c.StaticRegistrationOptions=c.FailureHandlingKind=c.ResourceOperationKind=c.UnregistrationRequest=c.RegistrationRequest=c.DocumentSelector=c.DocumentFilter=void 0;c.MonikerRequest=c.MonikerKind=c.UniquenessLevel=c.WillDeleteFilesRequest=c.DidDeleteFilesNotification=c.WillRenameFilesRequest=c.DidRenameFilesNotification=c.WillCreateFilesRequest=c.DidCreateFilesNotification=c.FileOperationPatternKind=c.LinkedEditingRangeRequest=c.ShowDocumentRequest=c.SemanticTokensRegistrationType=c.SemanticTokensRefreshRequest=c.SemanticTokensRangeRequest=c.SemanticTokensDeltaRequest=c.SemanticTokensRequest=c.TokenFormat=c.SemanticTokens=c.SemanticTokenModifiers=c.SemanticTokenTypes=c.CallHierarchyPrepareRequest=c.CallHierarchyOutgoingCallsRequest=c.CallHierarchyIncomingCallsRequest=c.WorkDoneProgressCancelNotification=c.WorkDoneProgressCreateRequest=c.WorkDoneProgress=c.SelectionRangeRequest=c.DeclarationRequest=c.FoldingRangeRequest=c.ColorPresentationRequest=c.DocumentColorRequest=c.ConfigurationRequest=c.DidChangeWorkspaceFoldersNotification=c.WorkspaceFoldersRequest=c.TypeDefinitionRequest=c.ImplementationRequest=c.ApplyWorkspaceEditRequest=c.ExecuteCommandRequest=c.PrepareRenameRequest=c.RenameRequest=c.PrepareSupportDefaultBehavior=c.DocumentOnTypeFormattingRequest=c.DocumentRangeFormattingRequest=c.DocumentFormattingRequest=c.DocumentLinkResolveRequest=void 0;var ze=uo(),x=se(),_c=lo();Object.defineProperty(c,"ImplementationRequest",{enumerable:!0,get:function(){return _c.ImplementationRequest}});var Rc=fo();Object.defineProperty(c,"TypeDefinitionRequest",{enumerable:!0,get:function(){return Rc.TypeDefinitionRequest}});var So=go();Object.defineProperty(c,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return So.WorkspaceFoldersRequest}});Object.defineProperty(c,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return So.DidChangeWorkspaceFoldersNotification}});var bc=mo();Object.defineProperty(c,"ConfigurationRequest",{enumerable:!0,get:function(){return bc.ConfigurationRequest}});var Eo=yo();Object.defineProperty(c,"DocumentColorRequest",{enumerable:!0,get:function(){return Eo.DocumentColorRequest}});Object.defineProperty(c,"ColorPresentationRequest",{enumerable:!0,get:function(){return Eo.ColorPresentationRequest}});var wc=vo();Object.defineProperty(c,"FoldingRangeRequest",{enumerable:!0,get:function(){return wc.FoldingRangeRequest}});var Pc=_o();Object.defineProperty(c,"DeclarationRequest",{enumerable:!0,get:function(){return Pc.DeclarationRequest}});var qc=Ro();Object.defineProperty(c,"SelectionRangeRequest",{enumerable:!0,get:function(){return qc.SelectionRangeRequest}});var si=wo();Object.defineProperty(c,"WorkDoneProgress",{enumerable:!0,get:function(){return si.WorkDoneProgress}});Object.defineProperty(c,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return si.WorkDoneProgressCreateRequest}});Object.defineProperty(c,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return si.WorkDoneProgressCancelNotification}});var ai=Po();Object.defineProperty(c,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return ai.CallHierarchyIncomingCallsRequest}});Object.defineProperty(c,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return ai.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(c,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return ai.CallHierarchyPrepareRequest}});var Me=qo();Object.defineProperty(c,"SemanticTokenTypes",{enumerable:!0,get:function(){return Me.SemanticTokenTypes}});Object.defineProperty(c,"SemanticTokenModifiers",{enumerable:!0,get:function(){return Me.SemanticTokenModifiers}});Object.defineProperty(c,"SemanticTokens",{enumerable:!0,get:function(){return Me.SemanticTokens}});Object.defineProperty(c,"TokenFormat",{enumerable:!0,get:function(){return Me.TokenFormat}});Object.defineProperty(c,"SemanticTokensRequest",{enumerable:!0,get:function(){return Me.SemanticTokensRequest}});Object.defineProperty(c,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Me.SemanticTokensDeltaRequest}});Object.defineProperty(c,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Me.SemanticTokensRangeRequest}});Object.defineProperty(c,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Me.SemanticTokensRefreshRequest}});Object.defineProperty(c,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Me.SemanticTokensRegistrationType}});var Cc=Co();Object.defineProperty(c,"ShowDocumentRequest",{enumerable:!0,get:function(){return Cc.ShowDocumentRequest}});var Tc=To();Object.defineProperty(c,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return Tc.LinkedEditingRangeRequest}});var rt=Do();Object.defineProperty(c,"FileOperationPatternKind",{enumerable:!0,get:function(){return rt.FileOperationPatternKind}});Object.defineProperty(c,"DidCreateFilesNotification",{enumerable:!0,get:function(){return rt.DidCreateFilesNotification}});Object.defineProperty(c,"WillCreateFilesRequest",{enumerable:!0,get:function(){return rt.WillCreateFilesRequest}});Object.defineProperty(c,"DidRenameFilesNotification",{enumerable:!0,get:function(){return rt.DidRenameFilesNotification}});Object.defineProperty(c,"WillRenameFilesRequest",{enumerable:!0,get:function(){return rt.WillRenameFilesRequest}});Object.defineProperty(c,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return rt.DidDeleteFilesNotification}});Object.defineProperty(c,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return rt.WillDeleteFilesRequest}});var ci=ko();Object.defineProperty(c,"UniquenessLevel",{enumerable:!0,get:function(){return ci.UniquenessLevel}});Object.defineProperty(c,"MonikerKind",{enumerable:!0,get:function(){return ci.MonikerKind}});Object.defineProperty(c,"MonikerRequest",{enumerable:!0,get:function(){return ci.MonikerRequest}});var No;(function(t){function e(n){let r=n;return ze.string(r.language)||ze.string(r.scheme)||ze.string(r.pattern)}t.is=e})(No=c.DocumentFilter||(c.DocumentFilter={}));var Oo;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let r of n)if(!ze.string(r)&&!No.is(r))return!1;return!0}t.is=e})(Oo=c.DocumentSelector||(c.DocumentSelector={}));var Dc;(function(t){t.type=new x.ProtocolRequestType("client/registerCapability")})(Dc=c.RegistrationRequest||(c.RegistrationRequest={}));var kc;(function(t){t.type=new x.ProtocolRequestType("client/unregisterCapability")})(kc=c.UnregistrationRequest||(c.UnregistrationRequest={}));var Sc;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(Sc=c.ResourceOperationKind||(c.ResourceOperationKind={}));var Ec;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(Ec=c.FailureHandlingKind||(c.FailureHandlingKind={}));var Nc;(function(t){function e(n){let r=n;return r&&ze.string(r.id)&&r.id.length>0}t.hasId=e})(Nc=c.StaticRegistrationOptions||(c.StaticRegistrationOptions={}));var Oc;(function(t){function e(n){let r=n;return r&&(r.documentSelector===null||Oo.is(r.documentSelector))}t.is=e})(Oc=c.TextDocumentRegistrationOptions||(c.TextDocumentRegistrationOptions={}));var Fc;(function(t){function e(r){let s=r;return ze.objectLiteral(s)&&(s.workDoneProgress===void 0||ze.boolean(s.workDoneProgress))}t.is=e;function n(r){let s=r;return s&&ze.boolean(s.workDoneProgress)}t.hasWorkDoneProgress=n})(Fc=c.WorkDoneProgressOptions||(c.WorkDoneProgressOptions={}));var jc;(function(t){t.type=new x.ProtocolRequestType("initialize")})(jc=c.InitializeRequest||(c.InitializeRequest={}));var Mc;(function(t){t.unknownProtocolVersion=1})(Mc=c.InitializeError||(c.InitializeError={}));var xc;(function(t){t.type=new x.ProtocolNotificationType("initialized")})(xc=c.InitializedNotification||(c.InitializedNotification={}));var Wc;(function(t){t.type=new x.ProtocolRequestType0("shutdown")})(Wc=c.ShutdownRequest||(c.ShutdownRequest={}));var Lc;(function(t){t.type=new x.ProtocolNotificationType0("exit")})(Lc=c.ExitNotification||(c.ExitNotification={}));var Ic;(function(t){t.type=new x.ProtocolNotificationType("workspace/didChangeConfiguration")})(Ic=c.DidChangeConfigurationNotification||(c.DidChangeConfigurationNotification={}));var Ac;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4})(Ac=c.MessageType||(c.MessageType={}));var Hc;(function(t){t.type=new x.ProtocolNotificationType("window/showMessage")})(Hc=c.ShowMessageNotification||(c.ShowMessageNotification={}));var zc;(function(t){t.type=new x.ProtocolRequestType("window/showMessageRequest")})(zc=c.ShowMessageRequest||(c.ShowMessageRequest={}));var $c;(function(t){t.type=new x.ProtocolNotificationType("window/logMessage")})($c=c.LogMessageNotification||(c.LogMessageNotification={}));var Bc;(function(t){t.type=new x.ProtocolNotificationType("telemetry/event")})(Bc=c.TelemetryEventNotification||(c.TelemetryEventNotification={}));var Jc;(function(t){t.None=0,t.Full=1,t.Incremental=2})(Jc=c.TextDocumentSyncKind||(c.TextDocumentSyncKind={}));var Gc;(function(t){t.method="textDocument/didOpen",t.type=new x.ProtocolNotificationType(t.method)})(Gc=c.DidOpenTextDocumentNotification||(c.DidOpenTextDocumentNotification={}));var Uc;(function(t){function e(r){let s=r;return s!=null&&typeof s.text=="string"&&s.range!==void 0&&(s.rangeLength===void 0||typeof s.rangeLength=="number")}t.isIncremental=e;function n(r){let s=r;return s!=null&&typeof s.text=="string"&&s.range===void 0&&s.rangeLength===void 0}t.isFull=n})(Uc=c.TextDocumentContentChangeEvent||(c.TextDocumentContentChangeEvent={}));var Qc;(function(t){t.method="textDocument/didChange",t.type=new x.ProtocolNotificationType(t.method)})(Qc=c.DidChangeTextDocumentNotification||(c.DidChangeTextDocumentNotification={}));var Xc;(function(t){t.method="textDocument/didClose",t.type=new x.ProtocolNotificationType(t.method)})(Xc=c.DidCloseTextDocumentNotification||(c.DidCloseTextDocumentNotification={}));var Yc;(function(t){t.method="textDocument/didSave",t.type=new x.ProtocolNotificationType(t.method)})(Yc=c.DidSaveTextDocumentNotification||(c.DidSaveTextDocumentNotification={}));var Kc;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(Kc=c.TextDocumentSaveReason||(c.TextDocumentSaveReason={}));var Zc;(function(t){t.method="textDocument/willSave",t.type=new x.ProtocolNotificationType(t.method)})(Zc=c.WillSaveTextDocumentNotification||(c.WillSaveTextDocumentNotification={}));var Vc;(function(t){t.method="textDocument/willSaveWaitUntil",t.type=new x.ProtocolRequestType(t.method)})(Vc=c.WillSaveTextDocumentWaitUntilRequest||(c.WillSaveTextDocumentWaitUntilRequest={}));var eu;(function(t){t.type=new x.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(eu=c.DidChangeWatchedFilesNotification||(c.DidChangeWatchedFilesNotification={}));var tu;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(tu=c.FileChangeType||(c.FileChangeType={}));var nu;(function(t){t.Create=1,t.Change=2,t.Delete=4})(nu=c.WatchKind||(c.WatchKind={}));var ru;(function(t){t.type=new x.ProtocolNotificationType("textDocument/publishDiagnostics")})(ru=c.PublishDiagnosticsNotification||(c.PublishDiagnosticsNotification={}));var iu;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(iu=c.CompletionTriggerKind||(c.CompletionTriggerKind={}));var ou;(function(t){t.method="textDocument/completion",t.type=new x.ProtocolRequestType(t.method)})(ou=c.CompletionRequest||(c.CompletionRequest={}));var su;(function(t){t.method="completionItem/resolve",t.type=new x.ProtocolRequestType(t.method)})(su=c.CompletionResolveRequest||(c.CompletionResolveRequest={}));var au;(function(t){t.method="textDocument/hover",t.type=new x.ProtocolRequestType(t.method)})(au=c.HoverRequest||(c.HoverRequest={}));var cu;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})(cu=c.SignatureHelpTriggerKind||(c.SignatureHelpTriggerKind={}));var uu;(function(t){t.method="textDocument/signatureHelp",t.type=new x.ProtocolRequestType(t.method)})(uu=c.SignatureHelpRequest||(c.SignatureHelpRequest={}));var lu;(function(t){t.method="textDocument/definition",t.type=new x.ProtocolRequestType(t.method)})(lu=c.DefinitionRequest||(c.DefinitionRequest={}));var du;(function(t){t.method="textDocument/references",t.type=new x.ProtocolRequestType(t.method)})(du=c.ReferencesRequest||(c.ReferencesRequest={}));var fu;(function(t){t.method="textDocument/documentHighlight",t.type=new x.ProtocolRequestType(t.method)})(fu=c.DocumentHighlightRequest||(c.DocumentHighlightRequest={}));var hu;(function(t){t.method="textDocument/documentSymbol",t.type=new x.ProtocolRequestType(t.method)})(hu=c.DocumentSymbolRequest||(c.DocumentSymbolRequest={}));var gu;(function(t){t.method="textDocument/codeAction",t.type=new x.ProtocolRequestType(t.method)})(gu=c.CodeActionRequest||(c.CodeActionRequest={}));var mu;(function(t){t.method="codeAction/resolve",t.type=new x.ProtocolRequestType(t.method)})(mu=c.CodeActionResolveRequest||(c.CodeActionResolveRequest={}));var pu;(function(t){t.method="workspace/symbol",t.type=new x.ProtocolRequestType(t.method)})(pu=c.WorkspaceSymbolRequest||(c.WorkspaceSymbolRequest={}));var yu;(function(t){t.method="textDocument/codeLens",t.type=new x.ProtocolRequestType(t.method)})(yu=c.CodeLensRequest||(c.CodeLensRequest={}));var vu;(function(t){t.method="codeLens/resolve",t.type=new x.ProtocolRequestType(t.method)})(vu=c.CodeLensResolveRequest||(c.CodeLensResolveRequest={}));var _u;(function(t){t.method="workspace/codeLens/refresh",t.type=new x.ProtocolRequestType0(t.method)})(_u=c.CodeLensRefreshRequest||(c.CodeLensRefreshRequest={}));var Ru;(function(t){t.method="textDocument/documentLink",t.type=new x.ProtocolRequestType(t.method)})(Ru=c.DocumentLinkRequest||(c.DocumentLinkRequest={}));var bu;(function(t){t.method="documentLink/resolve",t.type=new x.ProtocolRequestType(t.method)})(bu=c.DocumentLinkResolveRequest||(c.DocumentLinkResolveRequest={}));var wu;(function(t){t.method="textDocument/formatting",t.type=new x.ProtocolRequestType(t.method)})(wu=c.DocumentFormattingRequest||(c.DocumentFormattingRequest={}));var Pu;(function(t){t.method="textDocument/rangeFormatting",t.type=new x.ProtocolRequestType(t.method)})(Pu=c.DocumentRangeFormattingRequest||(c.DocumentRangeFormattingRequest={}));var qu;(function(t){t.method="textDocument/onTypeFormatting",t.type=new x.ProtocolRequestType(t.method)})(qu=c.DocumentOnTypeFormattingRequest||(c.DocumentOnTypeFormattingRequest={}));var Cu;(function(t){t.Identifier=1})(Cu=c.PrepareSupportDefaultBehavior||(c.PrepareSupportDefaultBehavior={}));var Tu;(function(t){t.method="textDocument/rename",t.type=new x.ProtocolRequestType(t.method)})(Tu=c.RenameRequest||(c.RenameRequest={}));var Du;(function(t){t.method="textDocument/prepareRename",t.type=new x.ProtocolRequestType(t.method)})(Du=c.PrepareRenameRequest||(c.PrepareRenameRequest={}));var ku;(function(t){t.type=new x.ProtocolRequestType("workspace/executeCommand")})(ku=c.ExecuteCommandRequest||(c.ExecuteCommandRequest={}));var Su;(function(t){t.type=new x.ProtocolRequestType("workspace/applyEdit")})(Su=c.ApplyWorkspaceEditRequest||(c.ApplyWorkspaceEditRequest={}))});var Mo=D(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.createProtocolConnection=void 0;var jo=gt();function Eu(t,e,n,r){return jo.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),jo.createMessageConnection(t,e,n,r)}ln.createProtocolConnection=Eu});var xo=D(ue=>{"use strict";var Nu=ue&&ue.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),dn=ue&&ue.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Nu(e,t,n)};Object.defineProperty(ue,"__esModule",{value:!0});ue.LSPErrorCodes=ue.createProtocolConnection=void 0;dn(gt(),ue);dn(so(),ue);dn(se(),ue);dn(Fo(),ue);var Ou=Mo();Object.defineProperty(ue,"createProtocolConnection",{enumerable:!0,get:function(){return Ou.createProtocolConnection}});var Fu;(function(t){t.lspReservedErrorRangeStart=-32899,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(Fu=ue.LSPErrorCodes||(ue.LSPErrorCodes={}))});var fe=D(ke=>{"use strict";var ju=ke&&ke.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Wo=ke&&ke.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&ju(e,t,n)};Object.defineProperty(ke,"__esModule",{value:!0});ke.createProtocolConnection=void 0;var Mu=Vr();Wo(Vr(),ke);Wo(xo(),ke);function xu(t,e,n,r){return Mu.createMessageConnection(t,e,n,r)}ke.createProtocolConnection=xu});var ui=D(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.generateUuid=ye.parse=ye.isUUID=ye.v4=ye.empty=void 0;var Wt=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},I=class extends Wt{constructor(){super([I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),"-",I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),"-","4",I._randomHex(),I._randomHex(),I._randomHex(),"-",I._oneOf(I._timeHighBits),I._randomHex(),I._randomHex(),I._randomHex(),"-",I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return I._oneOf(I._chars)}};I._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];I._timeHighBits=["8","9","a","b"];ye.empty=new Wt("00000000-0000-0000-0000-000000000000");function Lo(){return new I}ye.v4=Lo;var Wu=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Io(t){return Wu.test(t)}ye.isUUID=Io;function Lu(t){if(!Io(t))throw new Error("invalid uuid");return new Wt(t)}ye.parse=Lu;function Iu(){return Lo().asHex()}ye.generateUuid=Iu});var Ao=D(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.attachPartialResult=Be.ProgressFeature=Be.attachWorkDone=void 0;var $e=fe(),Au=ui(),Se=class{constructor(e,n){this._connection=e,this._token=n,Se.Instances.set(this._token,this)}begin(e,n,r,s){let y={kind:"begin",title:e,percentage:n,message:r,cancellable:s};this._connection.sendProgress($e.WorkDoneProgress.type,this._token,y)}report(e,n){let r={kind:"report"};typeof e=="number"?(r.percentage=e,n!==void 0&&(r.message=n)):r.message=e,this._connection.sendProgress($e.WorkDoneProgress.type,this._token,r)}done(){Se.Instances.delete(this._token),this._connection.sendProgress($e.WorkDoneProgress.type,this._token,{kind:"end"})}};Se.Instances=new Map;var fn=class extends Se{constructor(e,n){super(e,n),this._source=new $e.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},Lt=class{constructor(){}begin(){}report(){}done(){}},hn=class extends Lt{constructor(){super(),this._source=new $e.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function Hu(t,e){if(e===void 0||e.workDoneToken===void 0)return new Lt;let n=e.workDoneToken;return delete e.workDoneToken,new Se(t,n)}Be.attachWorkDone=Hu;var zu=t=>class extends t{constructor(){super(),this._progressSupported=!1}initialize(e){var n;((n=e?.window)===null||n===void 0?void 0:n.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification($e.WorkDoneProgressCancelNotification.type,r=>{let s=Se.Instances.get(r.token);(s instanceof fn||s instanceof hn)&&s.cancel()}))}attachWorkDoneProgress(e){return e===void 0?new Lt:new Se(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){let e=Au.generateUuid();return this.connection.sendRequest($e.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new fn(this.connection,e))}else return Promise.resolve(new hn)}};Be.ProgressFeature=zu;var li;(function(t){t.type=new $e.ProgressType})(li||(li={}));var di=class{constructor(e,n){this._connection=e,this._token=n}report(e){this._connection.sendProgress(li.type,this._token,e)}};function $u(t,e){if(e===void 0||e.partialResultToken===void 0)return;let n=e.partialResultToken;return delete e.partialResultToken,new di(t,n)}Be.attachPartialResult=$u});var Ho=D(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.ConfigurationFeature=void 0;var Bu=fe(),Ju=Xt(),Gu=t=>class extends t{getConfiguration(e){return e?Ju.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let n={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(Bu.ConfigurationRequest.type,n).then(r=>Array.isArray(e)?r:r[0])}};gn.ConfigurationFeature=Gu});var zo=D(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.WorkspaceFoldersFeature=void 0;var mn=fe(),Uu=t=>class extends t{initialize(e){let n=e.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new mn.Emitter,this.connection.onNotification(mn.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(mn.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(mn.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};pn.WorkspaceFoldersFeature=Uu});var $o=D(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.CallHierarchyFeature=void 0;var fi=fe(),Qu=t=>class extends t{get callHierarchy(){return{onPrepare:e=>{this.connection.onRequest(fi.CallHierarchyPrepareRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))},onIncomingCalls:e=>{let n=fi.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(n,(r,s)=>e(r,s,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:e=>{let n=fi.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(n,(r,s)=>e(r,s,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};yn.CallHierarchyFeature=Qu});var mi=D(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});yt.SemanticTokensBuilder=yt.SemanticTokensFeature=void 0;var hi=fe(),Xu=t=>class extends t{get semanticTokens(){return{on:e=>{let n=hi.SemanticTokensRequest.type;this.connection.onRequest(n,(r,s)=>e(r,s,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:e=>{let n=hi.SemanticTokensDeltaRequest.type;this.connection.onRequest(n,(r,s)=>e(r,s,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:e=>{let n=hi.SemanticTokensRangeRequest.type;this.connection.onRequest(n,(r,s)=>e(r,s,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};yt.SemanticTokensFeature=Xu;var gi=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,n,r,s,y){let P=e,E=n;this._dataLen>0&&(P-=this._prevLine,P===0&&(E-=this._prevChar)),this._data[this._dataLen++]=P,this._data[this._dataLen++]=E,this._data[this._dataLen++]=r,this._data[this._dataLen++]=s,this._data[this._dataLen++]=y,this._prevLine=e,this._prevChar=n}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){if(this._prevData!==void 0){let e=this._prevData.length,n=this._data.length,r=0;for(;r<n&&r<e&&this._prevData[r]===this._data[r];)r++;if(r<n&&r<e){let s=0;for(;s<n&&s<e&&this._prevData[e-1-s]===this._data[n-1-s];)s++;let y=this._data.slice(r,n-s);return{resultId:this.id,edits:[{start:r,deleteCount:e-s-r,data:y}]}}else return r<n?{resultId:this.id,edits:[{start:r,deleteCount:0,data:this._data.slice(r)}]}:r<e?{resultId:this.id,edits:[{start:r,deleteCount:e-r}]}:{resultId:this.id,edits:[]}}else return this.build()}};yt.SemanticTokensBuilder=gi});var Bo=D(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});vn.ShowDocumentFeature=void 0;var Yu=fe(),Ku=t=>class extends t{showDocument(e){return this.connection.sendRequest(Yu.ShowDocumentRequest.type,e)}};vn.ShowDocumentFeature=Ku});var Jo=D(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});_n.FileOperationsFeature=void 0;var vt=fe(),Zu=t=>class extends t{onDidCreateFiles(e){this.connection.onNotification(vt.DidCreateFilesNotification.type,n=>{e(n)})}onDidRenameFiles(e){this.connection.onNotification(vt.DidRenameFilesNotification.type,n=>{e(n)})}onDidDeleteFiles(e){this.connection.onNotification(vt.DidDeleteFilesNotification.type,n=>{e(n)})}onWillCreateFiles(e){return this.connection.onRequest(vt.WillCreateFilesRequest.type,(n,r)=>e(n,r))}onWillRenameFiles(e){return this.connection.onRequest(vt.WillRenameFilesRequest.type,(n,r)=>e(n,r))}onWillDeleteFiles(e){return this.connection.onRequest(vt.WillDeleteFilesRequest.type,(n,r)=>e(n,r))}};_n.FileOperationsFeature=Zu});var Go=D(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});Rn.LinkedEditingRangeFeature=void 0;var Vu=fe(),el=t=>class extends t{onLinkedEditingRange(e){this.connection.onRequest(Vu.LinkedEditingRangeRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))}};Rn.LinkedEditingRangeFeature=el});var Uo=D(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.MonikerFeature=void 0;var tl=fe(),nl=t=>class extends t{get moniker(){return{on:e=>{let n=tl.MonikerRequest.type;this.connection.onRequest(n,(r,s)=>e(r,s,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};bn.MonikerFeature=nl});var wi=D(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.createConnection=z.combineFeatures=z.combineLanguagesFeatures=z.combineWorkspaceFeatures=z.combineWindowFeatures=z.combineClientFeatures=z.combineTracerFeatures=z.combineTelemetryFeatures=z.combineConsoleFeatures=z._LanguagesImpl=z.BulkUnregistration=z.BulkRegistration=z.ErrorMessageTracker=z.TextDocuments=void 0;var w=fe(),ve=Xt(),yi=ui(),W=Ao(),rl=Ho(),il=zo(),ol=$o(),sl=mi(),al=Bo(),cl=Jo(),ul=Go(),ll=Uo();function pi(t){if(t!==null)return t}var vi=class{constructor(e){this._documents=Object.create(null),this._configuration=e,this._onDidChangeContent=new w.Emitter,this._onDidOpen=new w.Emitter,this._onDidClose=new w.Emitter,this._onDidSave=new w.Emitter,this._onWillSave=new w.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._documents[e]}all(){return Object.keys(this._documents).map(e=>this._documents[e])}keys(){return Object.keys(this._documents)}listen(e){e.__textDocumentSync=w.TextDocumentSyncKind.Full,e.onDidOpenTextDocument(n=>{let r=n.textDocument,s=this._configuration.create(r.uri,r.languageId,r.version,r.text);this._documents[r.uri]=s;let y=Object.freeze({document:s});this._onDidOpen.fire(y),this._onDidChangeContent.fire(y)}),e.onDidChangeTextDocument(n=>{let r=n.textDocument,s=n.contentChanges;if(s.length===0)return;let y=this._documents[r.uri],{version:P}=r;if(P==null)throw new Error(`Received document change event for ${r.uri} without valid version identifier`);y=this._configuration.update(y,s,P),this._documents[r.uri]=y,this._onDidChangeContent.fire(Object.freeze({document:y}))}),e.onDidCloseTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&(delete this._documents[n.textDocument.uri],this._onDidClose.fire(Object.freeze({document:r})))}),e.onWillSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onWillSave.fire(Object.freeze({document:r,reason:n.reason}))}),e.onWillSaveTextDocumentWaitUntil((n,r)=>{let s=this._documents[n.textDocument.uri];return s&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:s,reason:n.reason}),r):[]}),e.onDidSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onDidSave.fire(Object.freeze({document:r}))})}};z.TextDocuments=vi;var _i=class{constructor(){this._messages=Object.create(null)}add(e){let n=this._messages[e];n||(n=0),n++,this._messages[e]=n}sendErrors(e){Object.keys(this._messages).forEach(n=>{e.window.showErrorMessage(n)})}};z.ErrorMessageTracker=_i;var wn=class{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(w.MessageType.Error,e)}warn(e){this.send(w.MessageType.Warning,e)}info(e){this.send(w.MessageType.Info,e)}log(e){this.send(w.MessageType.Log,e)}send(e,n){this._rawConnection&&this._rawConnection.sendNotification(w.LogMessageNotification.type,{type:e,message:n})}},Ri=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...n){let r={type:w.MessageType.Error,message:e,actions:n};return this.connection.sendRequest(w.ShowMessageRequest.type,r).then(pi)}showWarningMessage(e,...n){let r={type:w.MessageType.Warning,message:e,actions:n};return this.connection.sendRequest(w.ShowMessageRequest.type,r).then(pi)}showInformationMessage(e,...n){let r={type:w.MessageType.Info,message:e,actions:n};return this.connection.sendRequest(w.ShowMessageRequest.type,r).then(pi)}},Qo=al.ShowDocumentFeature(W.ProgressFeature(Ri)),dl;(function(t){function e(){return new Pn}t.create=e})(dl=z.BulkRegistration||(z.BulkRegistration={}));var Pn=class{constructor(){this._registrations=[],this._registered=new Set}add(e,n){let r=ve.string(e)?e:e.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);let s=yi.generateUuid();this._registrations.push({id:s,method:r,registerOptions:n||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}},fl;(function(t){function e(){return new It(void 0,[])}t.create=e})(fl=z.BulkUnregistration||(z.BulkUnregistration={}));var It=class{constructor(e,n){this._connection=e,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let r of this._unregistrations.values())e.push(r);let n={unregisterations:e};this._connection.sendRequest(w.UnregistrationRequest.type,n).then(void 0,r=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){let n=ve.string(e)?e:e.method,r=this._unregistrations.get(n);if(!r)return!1;let s={unregisterations:[r]};return this._connection.sendRequest(w.UnregistrationRequest.type,s).then(()=>{this._unregistrations.delete(n)},y=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}},qn=class{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,n,r){return e instanceof Pn?this.registerMany(e):e instanceof It?this.registerSingle1(e,n,r):this.registerSingle2(e,n)}registerSingle1(e,n,r){let s=ve.string(n)?n:n.method,y=yi.generateUuid(),P={registrations:[{id:y,method:s,registerOptions:r||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(w.RegistrationRequest.type,P).then(E=>(e.add({id:y,method:s}),e),E=>(this.connection.console.info(`Registering request handler for ${s} failed.`),Promise.reject(E)))}registerSingle2(e,n){let r=ve.string(e)?e:e.method,s=yi.generateUuid(),y={registrations:[{id:s,method:r,registerOptions:n||{}}]};return this.connection.sendRequest(w.RegistrationRequest.type,y).then(P=>w.Disposable.create(()=>{this.unregisterSingle(s,r)}),P=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(P)))}unregisterSingle(e,n){let r={unregisterations:[{id:e,method:n}]};return this.connection.sendRequest(w.UnregistrationRequest.type,r).then(void 0,s=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)})}registerMany(e){let n=e.asRegistrationParams();return this.connection.sendRequest(w.RegistrationRequest.type,n).then(()=>new It(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}},bi=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function n(s){return s&&!!s.edit}let r=n(e)?e:{edit:e};return this.connection.sendRequest(w.ApplyWorkspaceEditRequest.type,r)}},Xo=cl.FileOperationsFeature(il.WorkspaceFoldersFeature(rl.ConfigurationFeature(bi))),Cn=class{constructor(){this._trace=w.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,n){this._trace!==w.Trace.Off&&this.connection.sendNotification(w.LogTraceNotification.type,{message:e,verbose:this._trace===w.Trace.Verbose?n:void 0})}},Tn=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(w.TelemetryEventNotification.type,e)}},Dn=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return W.attachWorkDone(this.connection,e)}attachPartialResultProgress(e,n){return W.attachPartialResult(this.connection,n)}};z._LanguagesImpl=Dn;var Yo=ll.MonikerFeature(ul.LinkedEditingRangeFeature(sl.SemanticTokensFeature(ol.CallHierarchyFeature(Dn))));function Ko(t,e){return function(n){return e(t(n))}}z.combineConsoleFeatures=Ko;function Zo(t,e){return function(n){return e(t(n))}}z.combineTelemetryFeatures=Zo;function Vo(t,e){return function(n){return e(t(n))}}z.combineTracerFeatures=Vo;function es(t,e){return function(n){return e(t(n))}}z.combineClientFeatures=es;function ts(t,e){return function(n){return e(t(n))}}z.combineWindowFeatures=ts;function ns(t,e){return function(n){return e(t(n))}}z.combineWorkspaceFeatures=ns;function hl(t,e){return function(n){return e(t(n))}}z.combineLanguagesFeatures=hl;function gl(t,e){function n(s,y,P){return s&&y?P(s,y):s||y}return{__brand:"features",console:n(t.console,e.console,Ko),tracer:n(t.tracer,e.tracer,Vo),telemetry:n(t.telemetry,e.telemetry,Zo),client:n(t.client,e.client,es),window:n(t.window,e.window,ts),workspace:n(t.workspace,e.workspace,ns)}}z.combineFeatures=gl;function ml(t,e,n){let r=n&&n.console?new(n.console(wn)):new wn,s=t(r);r.rawAttach(s);let y=n&&n.tracer?new(n.tracer(Cn)):new Cn,P=n&&n.telemetry?new(n.telemetry(Tn)):new Tn,E=n&&n.client?new(n.client(qn)):new qn,R=n&&n.window?new(n.window(Qo)):new Qo,q=n&&n.workspace?new(n.workspace(Xo)):new Xo,b=n&&n.languages?new(n.languages(Yo)):new Yo,N=[r,y,P,E,R,q,b];function S(p){return p instanceof Promise?p:ve.thenable(p)?new Promise((g,_)=>{p.then(F=>g(F),F=>_(F))}):Promise.resolve(p)}let A,B,U,G={listen:()=>s.listen(),sendRequest:(p,...g)=>s.sendRequest(ve.string(p)?p:p.method,...g),onRequest:(p,g)=>s.onRequest(p,g),sendNotification:(p,g)=>{let _=ve.string(p)?p:p.method;arguments.length===1?s.sendNotification(_):s.sendNotification(_,g)},onNotification:(p,g)=>s.onNotification(p,g),onProgress:s.onProgress,sendProgress:s.sendProgress,onInitialize:p=>B=p,onInitialized:p=>s.onNotification(w.InitializedNotification.type,p),onShutdown:p=>A=p,onExit:p=>U=p,get console(){return r},get telemetry(){return P},get tracer(){return y},get client(){return E},get window(){return R},get workspace(){return q},get languages(){return b},onDidChangeConfiguration:p=>s.onNotification(w.DidChangeConfigurationNotification.type,p),onDidChangeWatchedFiles:p=>s.onNotification(w.DidChangeWatchedFilesNotification.type,p),__textDocumentSync:void 0,onDidOpenTextDocument:p=>s.onNotification(w.DidOpenTextDocumentNotification.type,p),onDidChangeTextDocument:p=>s.onNotification(w.DidChangeTextDocumentNotification.type,p),onDidCloseTextDocument:p=>s.onNotification(w.DidCloseTextDocumentNotification.type,p),onWillSaveTextDocument:p=>s.onNotification(w.WillSaveTextDocumentNotification.type,p),onWillSaveTextDocumentWaitUntil:p=>s.onRequest(w.WillSaveTextDocumentWaitUntilRequest.type,p),onDidSaveTextDocument:p=>s.onNotification(w.DidSaveTextDocumentNotification.type,p),sendDiagnostics:p=>s.sendNotification(w.PublishDiagnosticsNotification.type,p),onHover:p=>s.onRequest(w.HoverRequest.type,(g,_)=>p(g,_,W.attachWorkDone(s,g),void 0)),onCompletion:p=>s.onRequest(w.CompletionRequest.type,(g,_)=>p(g,_,W.attachWorkDone(s,g),W.attachPartialResult(s,g))),onCompletionResolve:p=>s.onRequest(w.CompletionResolveRequest.type,p),onSignatureHelp:p=>s.onRequest(w.SignatureHelpRequest.type,(g,_)=>p(g,_,W.attachWorkDone(s,g),void 0)),onDeclaration:p=>s.onRequest(w.DeclarationRequest.type,(g,_)=>p(g,_,W.attachWorkDone(s,g),W.attachPartialResult(s,g))),onDefinition:p=>s.onRequest(w.DefinitionRequest.type,(g,_)=>p(g,_,W.attachWorkDone(s,g),W.attachPartialResult(s,g))),onTypeDefinition:p=>s.onRequest(w.TypeDefinitionRequest.type,(g,_)=>p(g,_,W.attachWorkDone(s,g),W.attachPartialResult(s,g))),onImplementation:p=>s.onRequest(w.ImplementationRequest.type,(g,_)=>p(g,_,W.attachWorkDone(s,g),W.attachPartialResult(s,g))),onReferences:p=>s.onRequest(w.ReferencesRequest.type,(g,_)=>p(g,_,W.attachWorkDone(s,g),W.attachPartialResult(s,g))),onDocumentHighlight:p=>s.onRequest(w.DocumentHighlightRequest.type,(g,_)=>p(g,_,W.attachWorkDone(s,g),W.attachPartialResult(s,g))),onDocumentSymbol:p=>s.onRequest(w.DocumentSymbolRequest.type,(g,_)=>p(g,_,W.attachWorkDone(s,g),W.attachPartialResult(s,g))),onWorkspaceSymbol:p=>s.onRequest(w.WorkspaceSymbolRequest.type,(g,_)=>p(g,_,W.attachWorkDone(s,g),W.attachPartialResult(s,g))),onCodeAction:p=>s.onRequest(w.CodeActionRequest.type,(g,_)=>p(g,_,W.attachWorkDone(s,g),W.attachPartialResult(s,g))),onCodeActionResolve:p=>s.onRequest(w.CodeActionResolveRequest.type,(g,_)=>p(g,_)),onCodeLens:p=>s.onRequest(w.CodeLensRequest.type,(g,_)=>p(g,_,W.attachWorkDone(s,g),W.attachPartialResult(s,g))),onCodeLensResolve:p=>s.onRequest(w.CodeLensResolveRequest.type,(g,_)=>p(g,_)),onDocumentFormatting:p=>s.onRequest(w.DocumentFormattingRequest.type,(g,_)=>p(g,_,W.attachWorkDone(s,g),void 0)),onDocumentRangeFormatting:p=>s.onRequest(w.DocumentRangeFormattingRequest.type,(g,_)=>p(g,_,W.attachWorkDone(s,g),void 0)),onDocumentOnTypeFormatting:p=>s.onRequest(w.DocumentOnTypeFormattingRequest.type,(g,_)=>p(g,_)),onRenameRequest:p=>s.onRequest(w.RenameRequest.type,(g,_)=>p(g,_,W.attachWorkDone(s,g),void 0)),onPrepareRename:p=>s.onRequest(w.PrepareRenameRequest.type,(g,_)=>p(g,_)),onDocumentLinks:p=>s.onRequest(w.DocumentLinkRequest.type,(g,_)=>p(g,_,W.attachWorkDone(s,g),W.attachPartialResult(s,g))),onDocumentLinkResolve:p=>s.onRequest(w.DocumentLinkResolveRequest.type,(g,_)=>p(g,_)),onDocumentColor:p=>s.onRequest(w.DocumentColorRequest.type,(g,_)=>p(g,_,W.attachWorkDone(s,g),W.attachPartialResult(s,g))),onColorPresentation:p=>s.onRequest(w.ColorPresentationRequest.type,(g,_)=>p(g,_,W.attachWorkDone(s,g),W.attachPartialResult(s,g))),onFoldingRanges:p=>s.onRequest(w.FoldingRangeRequest.type,(g,_)=>p(g,_,W.attachWorkDone(s,g),W.attachPartialResult(s,g))),onSelectionRanges:p=>s.onRequest(w.SelectionRangeRequest.type,(g,_)=>p(g,_,W.attachWorkDone(s,g),W.attachPartialResult(s,g))),onExecuteCommand:p=>s.onRequest(w.ExecuteCommandRequest.type,(g,_)=>p(g,_,W.attachWorkDone(s,g),void 0)),dispose:()=>s.dispose()};for(let p of N)p.attach(G);return s.onRequest(w.InitializeRequest.type,p=>{e.initialize(p),ve.string(p.trace)&&(y.trace=w.Trace.fromString(p.trace));for(let g of N)g.initialize(p.capabilities);if(B){let g=B(p,new w.CancellationTokenSource().token,W.attachWorkDone(s,p),void 0);return S(g).then(_=>{if(_ instanceof w.ResponseError)return _;let F=_;F||(F={capabilities:{}});let O=F.capabilities;O||(O={},F.capabilities=O),O.textDocumentSync===void 0||O.textDocumentSync===null?O.textDocumentSync=ve.number(G.__textDocumentSync)?G.__textDocumentSync:w.TextDocumentSyncKind.None:!ve.number(O.textDocumentSync)&&!ve.number(O.textDocumentSync.change)&&(O.textDocumentSync.change=ve.number(G.__textDocumentSync)?G.__textDocumentSync:w.TextDocumentSyncKind.None);for(let Z of N)Z.fillServerCapabilities(O);return F})}else{let g={capabilities:{textDocumentSync:w.TextDocumentSyncKind.None}};for(let _ of N)_.fillServerCapabilities(g.capabilities);return g}}),s.onRequest(w.ShutdownRequest.type,()=>{if(e.shutdownReceived=!0,A)return A(new w.CancellationTokenSource().token)}),s.onNotification(w.ExitNotification.type,()=>{try{U&&U()}finally{e.shutdownReceived?e.exit(0):e.exit(1)}}),s.onNotification(w.SetTraceNotification.type,p=>{y.trace=w.Trace.fromString(p.value)}),G}z.createConnection=ml});var is=D(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.resolveModulePath=le.FileSystem=le.resolveGlobalYarnPath=le.resolveGlobalNodePath=le.resolve=le.uriToFilePath=void 0;var pl=require("url"),qe=require("path"),Pi=require("fs"),Ti=require("child_process");function yl(t){let e=pl.parse(t);if(e.protocol!=="file:"||!e.path)return;let n=e.path.split("/");for(var r=0,s=n.length;r<s;r++)n[r]=decodeURIComponent(n[r]);if(process.platform==="win32"&&n.length>1){let y=n[0],P=n[1];y.length===0&&P.length>1&&P[1]===":"&&n.shift()}return qe.normalize(n.join("/"))}le.uriToFilePath=yl;function qi(){return process.platform==="win32"}function kn(t,e,n,r){let s="NODE_PATH",y=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((P,E)=>{let R=process.env,q=Object.create(null);Object.keys(R).forEach(b=>q[b]=R[b]),e&&Pi.existsSync(e)&&(q[s]?q[s]=e+qe.delimiter+q[s]:q[s]=e,r&&r(`NODE_PATH value is: ${q[s]}`)),q.ELECTRON_RUN_AS_NODE="1";try{let b=Ti.fork("",[],{cwd:n,env:q,execArgv:["-e",y]});if(b.pid===void 0){E(new Error(`Starting process to resolve node module  ${t} failed`));return}b.on("error",S=>{E(S)}),b.on("message",S=>{S.c==="r"&&(b.send({c:"e"}),S.s?P(S.r):E(new Error(`Failed to resolve module: ${t}`)))});let N={c:"rs",a:t};b.send(N)}catch(b){E(b)}})}le.resolve=kn;function Ci(t){let e="npm",n=Object.create(null);Object.keys(process.env).forEach(y=>n[y]=process.env[y]),n.NO_UPDATE_NOTIFIER="true";let r={encoding:"utf8",env:n};qi()&&(e="npm.cmd",r.shell=!0);let s=()=>{};try{process.on("SIGPIPE",s);let y=Ti.spawnSync(e,["config","get","prefix"],r).stdout;if(!y){t&&t("'npm config get prefix' didn't return a value.");return}let P=y.trim();return t&&t(`'npm config get prefix' value is: ${P}`),P.length>0?qi()?qe.join(P,"node_modules"):qe.join(P,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",s)}}le.resolveGlobalNodePath=Ci;function vl(t){let e="yarn",n={encoding:"utf8"};qi()&&(e="yarn.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let s=Ti.spawnSync(e,["global","dir","--json"],n),y=s.stdout;if(!y){t&&(t("'yarn global dir' didn't return a value."),s.stderr&&t(s.stderr));return}let P=y.trim().split(/\r?\n/);for(let E of P)try{let R=JSON.parse(E);if(R.type==="log")return qe.join(R.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",r)}}le.resolveGlobalYarnPath=vl;var rs;(function(t){let e;function n(){return e!==void 0||(process.platform==="win32"?e=!1:e=!Pi.existsSync(__filename.toUpperCase())||!Pi.existsSync(__filename.toLowerCase())),e}t.isCaseSensitive=n;function r(s,y){return n()?qe.normalize(y).indexOf(qe.normalize(s))===0:qe.normalize(y).toLowerCase().indexOf(qe.normalize(s).toLowerCase())===0}t.isParent=r})(rs=le.FileSystem||(le.FileSystem={}));function _l(t,e,n,r){return n?(qe.isAbsolute(n)||(n=qe.join(t,n)),kn(e,n,n,r).then(s=>rs.isParent(n,s)?s:Promise.reject(new Error(`Failed to load ${e} from node path location.`))).then(void 0,s=>kn(e,Ci(r),t,r))):kn(e,Ci(r),t,r)}le.resolveModulePath=_l});var Di=D((Id,os)=>{"use strict";os.exports=fe()});var as=D(he=>{"use strict";var Rl=he&&he.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),ss=he&&he.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Rl(e,t,n)};Object.defineProperty(he,"__esModule",{value:!0});he.ProposedFeatures=he.SemanticTokensBuilder=void 0;var bl=mi();Object.defineProperty(he,"SemanticTokensBuilder",{enumerable:!0,get:function(){return bl.SemanticTokensBuilder}});ss(fe(),he);ss(wi(),he);var wl;(function(t){t.all={__brand:"features"}})(wl=he.ProposedFeatures||(he.ProposedFeatures={}))});var ds=D(ge=>{"use strict";var Pl=ge&&ge.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),us=ge&&ge.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Pl(e,t,n)};Object.defineProperty(ge,"__esModule",{value:!0});ge.createConnection=ge.Files=void 0;var ki=Xt(),ql=wi(),At=is(),it=Di();us(Di(),ge);us(as(),ge);var Cl;(function(t){t.uriToFilePath=At.uriToFilePath,t.resolveGlobalNodePath=At.resolveGlobalNodePath,t.resolveGlobalYarnPath=At.resolveGlobalYarnPath,t.resolve=At.resolve,t.resolveModulePath=At.resolveModulePath})(Cl=ge.Files||(ge.Files={}));var cs;function Sn(){if(cs!==void 0)try{cs.end()}catch{}}var _t=!1,ls;function Tl(){let t="--clientProcessId";function e(n){try{let r=parseInt(n);isNaN(r)||(ls=setInterval(()=>{try{process.kill(r,0)}catch{Sn(),process.exit(_t?0:1)}},3e3))}catch{}}for(let n=2;n<process.argv.length;n++){let r=process.argv[n];if(r===t&&n+1<process.argv.length){e(process.argv[n+1]);return}else{let s=r.split("=");s[0]===t&&e(s[1])}}}Tl();var Dl={initialize:t=>{let e=t.processId;ki.number(e)&&ls===void 0&&setInterval(()=>{try{process.kill(e,0)}catch{process.exit(_t?0:1)}},3e3)},get shutdownReceived(){return _t},set shutdownReceived(t){_t=t},exit:t=>{Sn(),process.exit(t)}};function kl(t,e,n,r){let s,y,P,E;return t!==void 0&&t.__brand==="features"&&(s=t,t=e,e=n,n=r),it.ConnectionStrategy.is(t)||it.ConnectionOptions.is(t)?E=t:(y=t,P=e,E=n),Sl(y,P,E,s)}ge.createConnection=kl;function Sl(t,e,n,r){if(!t&&!e&&process.argv.length>2){let E,R,q=process.argv.slice(2);for(let b=0;b<q.length;b++){let N=q[b];if(N==="--node-ipc"){t=new it.IPCMessageReader(process),e=new it.IPCMessageWriter(process);break}else if(N==="--stdio"){t=process.stdin,e=process.stdout;break}else if(N==="--socket"){E=parseInt(q[b+1]);break}else if(N==="--pipe"){R=q[b+1];break}else{var s=N.split("=");if(s[0]==="--socket"){E=parseInt(s[1]);break}else if(s[0]==="--pipe"){R=s[1];break}}}if(E){let b=it.createServerSocketTransport(E);t=b[0],e=b[1]}else if(R){let b=it.createServerPipeTransport(R);t=b[0],e=b[1]}}var y="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!t)throw new Error("Connection input stream is not set. "+y);if(!e)throw new Error("Connection output stream is not set. "+y);if(ki.func(t.read)&&ki.func(t.on)){let E=t;E.on("end",()=>{Sn(),process.exit(_t?0:1)}),E.on("close",()=>{Sn(),process.exit(_t?0:1)})}let P=E=>it.createProtocolConnection(t,e,E,n);return ql.createConnection(P,Dl,r)}});var hs=D((zd,fs)=>{"use strict";fs.exports=ds()});var gs=D((Nn,En)=>{var El=Nn&&Nn.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,y;r<s;r++)(y||!(r in e))&&(y||(y=Array.prototype.slice.call(e,0,r)),y[r]=e[r]);return t.concat(y||Array.prototype.slice.call(e))};(function(t){if(typeof En=="object"&&typeof En.exports=="object"){var e=t(require,Nn);e!==void 0&&(En.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=void 0;var n=function(){function R(q,b,N,S){this._uri=q,this._languageId=b,this._version=N,this._content=S,this._lineOffsets=void 0}return Object.defineProperty(R.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),R.prototype.getText=function(q){if(q){var b=this.offsetAt(q.start),N=this.offsetAt(q.end);return this._content.substring(b,N)}return this._content},R.prototype.update=function(q,b){for(var N=0,S=q;N<S.length;N++){var A=S[N];if(R.isIncremental(A)){var B=P(A.range),U=this.offsetAt(B.start),G=this.offsetAt(B.end);this._content=this._content.substring(0,U)+A.text+this._content.substring(G,this._content.length);var p=Math.max(B.start.line,0),g=Math.max(B.end.line,0),_=this._lineOffsets,F=y(A.text,!1,U);if(g-p===F.length)for(var O=0,Z=F.length;O<Z;O++)_[O+p+1]=F[O];else F.length<1e4?_.splice.apply(_,El([p+1,g-p],F,!1)):this._lineOffsets=_=_.slice(0,p+1).concat(F,_.slice(g+1));var me=A.text.length-(G-U);if(me!==0)for(var O=p+1+F.length,Z=_.length;O<Z;O++)_[O]=_[O]+me}else if(R.isFull(A))this._content=A.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received")}this._version=b},R.prototype.getLineOffsets=function(){return this._lineOffsets===void 0&&(this._lineOffsets=y(this._content,!0)),this._lineOffsets},R.prototype.positionAt=function(q){q=Math.max(Math.min(q,this._content.length),0);var b=this.getLineOffsets(),N=0,S=b.length;if(S===0)return{line:0,character:q};for(;N<S;){var A=Math.floor((N+S)/2);b[A]>q?S=A:N=A+1}var B=N-1;return{line:B,character:q-b[B]}},R.prototype.offsetAt=function(q){var b=this.getLineOffsets();if(q.line>=b.length)return this._content.length;if(q.line<0)return 0;var N=b[q.line],S=q.line+1<b.length?b[q.line+1]:this._content.length;return Math.max(Math.min(N+q.character,S),N)},Object.defineProperty(R.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),R.isIncremental=function(q){var b=q;return b!=null&&typeof b.text=="string"&&b.range!==void 0&&(b.rangeLength===void 0||typeof b.rangeLength=="number")},R.isFull=function(q){var b=q;return b!=null&&typeof b.text=="string"&&b.range===void 0&&b.rangeLength===void 0},R}(),r;(function(R){function q(S,A,B,U){return new n(S,A,B,U)}R.create=q;function b(S,A,B){if(S instanceof n)return S.update(A,B),S;throw new Error("TextDocument.update: document must be created by TextDocument.create")}R.update=b;function N(S,A){for(var B=S.getText(),U=s(A.map(E),function(Z,me){var Ce=Z.range.start.line-me.range.start.line;return Ce===0?Z.range.start.character-me.range.start.character:Ce}),G=0,p=[],g=0,_=U;g<_.length;g++){var F=_[g],O=S.offsetAt(F.range.start);if(O<G)throw new Error("Overlapping edit");O>G&&p.push(B.substring(G,O)),F.newText.length&&p.push(F.newText),G=S.offsetAt(F.range.end)}return p.push(B.substr(G)),p.join("")}R.applyEdits=N})(r=e.TextDocument||(e.TextDocument={}));function s(R,q){if(R.length<=1)return R;var b=R.length/2|0,N=R.slice(0,b),S=R.slice(b);s(N,q),s(S,q);for(var A=0,B=0,U=0;A<N.length&&B<S.length;){var G=q(N[A],S[B]);G<=0?R[U++]=N[A++]:R[U++]=S[B++]}for(;A<N.length;)R[U++]=N[A++];for(;B<S.length;)R[U++]=S[B++];return R}function y(R,q,b){b===void 0&&(b=0);for(var N=q?[b]:[],S=0;S<R.length;S++){var A=R.charCodeAt(S);(A===13||A===10)&&(A===13&&S+1<R.length&&R.charCodeAt(S+1)===10&&S++,N.push(b+S+1))}return N}function P(R){var q=R.start,b=R.end;return q.line>b.line||q.line===b.line&&q.character>b.character?{start:b,end:q}:R}function E(R){var q=P(R.range);return q!==R.range?{newText:R.newText,range:q}:R}})});var Ee=Qt(hs()),ps=Qt(require("fs")),ys=Qt(require("url")),vs=Qt(gs()),Rt=(0,Ee.createConnection)(Ee.ProposedFeatures.all),Fn=new Ee.TextDocuments(vs.TextDocument),ms=!1;Rt.onInitialize(t=>{let e=t.capabilities;ms=!!(e.workspace&&e.workspace.workspaceFolders);let n={capabilities:{textDocumentSync:Ee.TextDocumentSyncKind.Incremental,completionProvider:{resolveProvider:!0,triggerCharacters:["-"]}}};return ms&&(n.capabilities.workspace={workspaceFolders:{supported:!0}}),Fn.all().forEach(_s),n});var On=new Map;async function Nl(t){let e=On.get(t);return e||(e=Ol(await ps.promises.readFile(ys.fileURLToPath(t),"utf-8")),On.set(t,e)),e}function Ol(t){return Object.keys(t.trim().split(/[\n\s]+/).map(e=>e.replace(/[^a-z\-]/g,"")).filter(e=>e).reduce((e,n)=>(e[n]=!0,e),{}))}Fn.onDidClose(t=>{On.delete(t.document.uri)});Fn.onDidChangeContent(t=>{_s(t.document)});async function _s(t){await Nl(t.uri)}Rt.onDidChangeWatchedFiles(t=>{});Rt.onCompletion(t=>(On.get(t.textDocument.uri)??[]).map((n,r)=>({label:n,kind:Ee.CompletionItemKind.Text,data:r+1})));Rt.onCompletionResolve(t=>t);Fn.listen(Rt);Rt.listen();
